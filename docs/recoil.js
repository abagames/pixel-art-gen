!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var i;!function(){function r(e,t,n){return e.call.apply(e.bind,arguments)}function o(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function a(e,t,n){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};var l=!!window.FontFace;function u(e,t,n,i){if(t=e.c.createElement(t),n)for(var r in n)n.hasOwnProperty(r)&&("style"==r?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i&&t.appendChild(e.c.createTextNode(i)),t}function c(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function h(e){e.parentNode&&e.parentNode.removeChild(e)}function f(e,t,n){t=t||[],n=n||[];for(var i=e.className.split(/\s+/),r=0;r<t.length;r+=1){for(var o=!1,a=0;a<i.length;a+=1)if(t[r]===i[a]){o=!0;break}o||i.push(t[r])}for(t=[],r=0;r<i.length;r+=1){for(o=!1,a=0;a<n.length;a+=1)if(i[r]===n[a]){o=!0;break}o||t.push(i[r])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(e,t){for(var n=e.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==t)return!0;return!1}function d(e,t,n){function i(){s&&r&&o&&(s(a),s=null)}t=u(e,"link",{rel:"stylesheet",href:t,media:"all"});var r=!1,o=!0,a=null,s=n||null;l?(t.onload=function(){r=!0,i()},t.onerror=function(){r=!0,a=Error("Stylesheet failed to load"),i()}):setTimeout(function(){r=!0,i()},0),c(e,"head",t)}function g(e,t,n,i){var r=e.c.getElementsByTagName("head")[0];if(r){var o=u(e,"script",{src:t}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))},r.appendChild(o),setTimeout(function(){a||(a=!0,n&&n(Error("Script load timeout")))},i||5e3),o}return null}function m(){this.a=0,this.c=null}function y(e){return e.a++,function(){e.a--,S(e)}}function v(e,t){e.c=t,S(e)}function S(e){0==e.a&&e.c&&(e.c(),e.c=null)}function M(e){this.a=e||"-"}function b(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function w(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var i=e[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?t.push("'"+i+"'"):t.push(i)}return t.join(",")}function x(e){return e.a+e.f}function P(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function L(e){var t=4,n="n",i=null;return e&&((i=e.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=e.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?t=7:/[1-9]00/.test(i[1])&&(t=parseInt(i[1].substr(0,1),10)))),n+t}function F(e){if(e.g){var t=p(e.f,e.a.c("wf","active")),n=[],i=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),f(e.f,n,i)}A(e,"inactive")}function A(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,x(n)):e.h[t]())}function T(e,t){this.c=e,this.f=t,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function D(e){c(e.c,"body",e.a)}function I(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+w(e.c)+";font-style:"+P(e)+";font-weight:"+e.f+"00;"}function _(e,t,n,i,r,o){this.g=e,this.j=t,this.a=i,this.c=n,this.f=r||3e3,this.h=o||void 0}function B(e,t,n,i,r,o,a){this.v=e,this.B=t,this.c=n,this.a=i,this.s=a||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new T(this.c,this.s),this.h=new T(this.c,this.s),this.j=new T(this.c,this.s),this.m=new T(this.c,this.s),e=I(e=new b(this.a.c+",serif",x(this.a))),this.g.a.style.cssText=e,e=I(e=new b(this.a.c+",sans-serif",x(this.a))),this.h.a.style.cssText=e,e=I(e=new b("serif",x(this.a))),this.j.a.style.cssText=e,e=I(e=new b("sans-serif",x(this.a))),this.m.a.style.cssText=e,D(this.g),D(this.h),D(this.j),D(this.m)}M.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},_.prototype.start=function(){var e=this.c.o.document,t=this,n=s(),i=new Promise(function(i,r){!function o(){s()-n>=t.f?r():e.fonts.load(function(e){return P(e)+" "+e.f+"00 300px "+w(e.c)}(t.a),t.h).then(function(e){1<=e.length?i():setTimeout(o,25)},function(){r()})}()}),r=null,o=new Promise(function(e,n){r=setTimeout(n,t.f)});Promise.race([o,i]).then(function(){r&&(clearTimeout(r),r=null),t.g(t.a)},function(){t.j(t.a)})};var C={D:"serif",C:"sans-serif"},E=null;function H(){if(null===E){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);E=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return E}function R(e,t,n){for(var i in C)if(C.hasOwnProperty(i)&&t===e.f[C[i]]&&n===e.f[C[i]])return!0;return!1}function k(e){var t,n=e.g.a.offsetWidth,i=e.h.a.offsetWidth;(t=n===e.f.serif&&i===e.f["sans-serif"])||(t=H()&&R(e,n,i)),t?s()-e.A>=e.w?H()&&R(e,n,i)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?j(e,e.v):j(e,e.B):function(e){setTimeout(a(function(){k(this)},e),50)}(e):j(e,e.v)}function j(e,t){setTimeout(a(function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),t(this.a)},e),0)}function q(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}B.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),k(this)};var O=null;function N(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&f(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),A(e,"active")):F(e.a))}function G(e){this.j=e,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function V(e,t,n,i,r){var o=0==--e.h;(e.f||e.g)&&setTimeout(function(){var e=r||null,s=i||{};if(0===n.length&&o)F(t.a);else{t.f+=n.length,o&&(t.j=o);var l,u=[];for(l=0;l<n.length;l++){var c=n[l],h=s[c.c],p=t.a,d=c;if(p.g&&f(p.f,[p.a.c("wf",d.c,x(d).toString(),"loading")]),A(p,"fontloading",d),p=null,null===O)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);O=d?42<parseInt(d[1],10):!g}else O=!1;p=O?new _(a(t.g,t),a(t.h,t),t.c,c,t.s,h):new B(a(t.g,t),a(t.h,t),t.c,c,t.s,e,h),u.push(p)}for(l=0;l<u.length;l++)u[l].start()}},0)}function $(e,t){this.c=e,this.a=t}function X(e,t){this.c=e,this.a=t}q.prototype.g=function(e){var t=this.a;t.g&&f(t.f,[t.a.c("wf",e.c,x(e).toString(),"active")],[t.a.c("wf",e.c,x(e).toString(),"loading"),t.a.c("wf",e.c,x(e).toString(),"inactive")]),A(t,"fontactive",e),this.m=!0,N(this)},q.prototype.h=function(e){var t=this.a;if(t.g){var n=p(t.f,t.a.c("wf",e.c,x(e).toString(),"active")),i=[],r=[t.a.c("wf",e.c,x(e).toString(),"loading")];n||i.push(t.a.c("wf",e.c,x(e).toString(),"inactive")),f(t.f,i,r)}A(t,"fontinactive",e),N(this)},G.prototype.load=function(e){this.c=new function(e,t){this.a=e,this.o=t||e,this.c=this.o.document}(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var i=[],r=n.timeout;!function(e){e.g&&f(e.f,[e.a.c("wf","loading")]),A(e,"loading")}(t);var i=function(e,t,n){var i,r=[];for(i in t)if(t.hasOwnProperty(i)){var o=e.c[i];o&&r.push(o(t[i],n))}return r}(e.a,n,e.c),o=new q(e.c,t,r);for(e.h=i.length,t=0,n=i.length;t<n;t++)i[t].load(function(t,n,i){V(e,o,t,n,i)})}(this,new function(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new M("-"),this.j=!1!==t.events,this.g=!1!==t.classes}(this.c,e),e)},$.prototype.load=function(e){var t=this,n=t.a.projectId,i=t.a.version;if(n){var r=t.c.o;g(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),function(i){i?e([]):(r["__MonotypeConfiguration__"+n]=function(){return t.a},function t(){if(r["__mti_fntLst"+n]){var i,o=r["__mti_fntLst"+n](),a=[];if(o)for(var s=0;s<o.length;s++){var l=o[s].fontfamily;void 0!=o[s].fontStyle&&void 0!=o[s].fontWeight?(i=o[s].fontStyle+o[s].fontWeight,a.push(new b(l,i))):a.push(new b(l))}e(a)}else setTimeout(function(){t()},50)}())}).id="__MonotypeAPIScript__"+n}else e([])},X.prototype.load=function(e){var t,n,i=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},a=new m;for(t=0,n=i.length;t<n;t++)d(this.c,i[t],y(a));var s=[];for(t=0,n=r.length;t<n;t++)if((i=r[t].split(":"))[1])for(var l=i[1].split(","),u=0;u<l.length;u+=1)s.push(new b(i[0],l[u]));else s.push(new b(i[0]));v(a,function(){e(s,o)})};var Y="https://fonts.googleapis.com/css";var U={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},W={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},J={i:"i",italic:"i",n:"n",normal:"n"},z=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function K(e,t){this.c=e,this.a=t}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function Z(e,t){this.c=e,this.a=t}function ee(e,t){this.c=e,this.f=t,this.a=[]}K.prototype.load=function(e){var t=new m,n=this.c,i=new function(e,t){this.c=e||Y,this.a=[],this.f=[],this.g=t||""}(this.a.api,this.a.text),r=this.a.families;!function(e,t){for(var n=t.length,i=0;i<n;i++){var r=t[i].split(":");3==r.length&&e.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":"),e.a.push(r.join(o))}}(i,r);var o=new function(e){this.f=e,this.a=[],this.c={}}(r);!function(e){for(var t=e.f.length,n=0;n<t;n++){var i=e.f[n].split(":"),r=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var a;if(a=[],s=i[1])for(var s,l=(s=s.split(",")).length,u=0;u<l;u++){var c;if((c=s[u]).match(/^[\w-]+$/))if(null==(f=z.exec(c.toLowerCase())))c="";else{if(c=null==(c=f[2])||""==c?"n":J[c],null==(f=f[1])||""==f)f="4";else var h=W[f],f=h||(isNaN(f)?"4":f.substr(0,1));c=[c,f].join("")}else c="";c&&a.push(c)}0<a.length&&(o=a),3==i.length&&(a=[],0<(i=(i=i[2])?i.split(","):a).length&&(i=U[i[0]])&&(e.c[r]=i))}for(e.c[r]||(i=U[r])&&(e.c[r]=i),i=0;i<o.length;i+=1)e.a.push(new b(r,o[i]))}}(o),d(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],i=0;i<t;i++)n.push(e.a[i].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(i),y(t)),v(t,function(){e(o.a,o.c,Q)})},Z.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var i=[],r=0;r<t.length;r+=2)for(var o=t[r],a=t[r+1],s=0;s<a.length;s++)i.push(new b(o,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(i)}},2e3):e([])},ee.prototype.load=function(e){var t=this.f.id,n=this.c.o,i=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var r=0,o=n.fonts.length;r<o;++r){var a=n.fonts[r];i.a.push(new b(a.name,L("font-weight:"+a.weight+";font-style:"+a.style)))}e(i.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",function(t){t&&e([])})):e([])};var te=new G(window);te.a.c.custom=function(e,t){return new X(t,e)},te.a.c.fontdeck=function(e,t){return new ee(t,e)},te.a.c.monotype=function(e,t){return new $(t,e)},te.a.c.typekit=function(e,t){return new Z(t,e)},te.a.c.google=function(e,t){return new K(t,e)};var ne={load:a(te.load,te)};void 0===(i=function(){return ne}.call(t,n,t,e))||(e.exports=i)}()},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){var n;!function(e){"use strict";String.fromCharCode;var t=2*+Math.PI,n=16,i=1,r=Math.sin,o=Math.pow,a=Math.abs;e.SampleRate=0,e.Sec=0,e.SetSampleRate=function(t){e.SampleRate=0|t,e.Sec=0|t},e.SetSampleRate(void 0!==s?(new s).sampleRate:44100),e.Sound=function(t){var n=new h(t,e.DefaultModules),i=P(n.getSamplesLeft());return n.generate(i),g(i)},e.Sounds=function(t,n,i){var r={},o={};o._audio=r;var a=[];M(t,function(e,t){o[t]=function(){void 0!==r[t]&&(r[t].currentTime=0,r[t].play())},a.push(t)});var s=0,l=a.length;return function o(){if(0!=a.length){var u=a.shift();r[u]=e.Sound(t[u]),i&&i(u,++s,l),window.setTimeout(o,30)}else n&&n(sounds)}(),o},e.SoundsImmediate=function(t){var n={},i={};return i._audio=n,M(t,function(t,r){n[r]=e.Sound(t),i[r]=function(){void 0!==n[r]&&(n[r].currentTime=0,n[r].play())}}),i};var s=window.AudioContext||window.webkitAudioContext;void 0!==s?(e.Node=function(t,n,i,r,o){var a=t.createScriptProcessor(r,0,1),s=new h(n,i||e.DefaultModules);return a.onaudioprocess=function(e){var t=e.outputBuffer.getChannelData(0);s.generate(t),!o&&s.finished&&setTimeout(function(){a.disconnect()},30)},a},e.Live=function(t,n,i){i=i||2048;var r={},o=new s,a=o.createGain();function l(e,t){var n=o.createBufferSource();if(n.buffer=e,null!=t&&null!=n.playbackRate){const e=Math.pow(2,1/12);n.playbackRate.value=Math.pow(e,t/100)}return n.start=n.start||n.noteOn,n}return a.connect(o.destination),r._context=o,r._volume=a,M(t,function(t,s){r[s]=function(){e.Node(o,t,n,i).connect(a)}}),r._close=function(){o.close()},r._play=function(t){e.Node(o,t,n,i).connect(a)},r._createBuffer=function(t){var n=new h(t,e.DefaultModules),i=P(n.getSamplesLeft());return n.generate(i),r._createBufferFromBlock(i)},r._createEmptyBuffer=function(){return r._createBufferFromBlock([0])},r._createBufferFromBlock=function(t){var n=o.createBuffer(1,t.length,e.SampleRate);return n.getChannelData(0).set(t),n},r._playBuffer=function(e,t,n){var i=l(e,n);i.connect(a),i.start(t)},r._playBufferAndConnect=function(e,t,n,i){var r=l(e,i);r.connect(n),n.connect(a),r.start(t)},r._createGain=function(){return o.createGain()},r}):e.Live=function(e,t,n){return null},e.Module={},e.G={};var l=e.stage={PhaseSpeed:0,PhaseSpeedMod:10,Generator:20,SampleMod:30,Volume:40};function u(e,t){return e.stage-t.stage}function c(e,t){for(var n=0;n<t.length;n+=1){var i=t[n],r=e[i.name]||{};M(i.params,function(e,t){void 0===r[t]&&(r[t]=e.D)}),e[i.name]=r}}function h(t,n){t=t||{},n=n||e.DefaultModules,t="function"==typeof t?t():JSON.parse(JSON.stringify(t)),this.finished=!1,this.state={SampleRate:t.SampleRate||e.SampleRate},(n=n.slice()).sort(u),this.modules=n,c(t,n);for(var i=0;i<this.modules.length;i+=1){var r=this.modules[i];this.modules[i].setup(this.state,t[r.name])}}function f(){return M(e.Module,function(){return{}})}function p(e){for(var t in e)0==x(e[t]).length&&delete e[t]}function d(e){return new Function("$","block","var TAU = Math.PI * 2;\nvar sample;\nvar phase = +$.generatorPhase,\n\tA = +$.generatorA, ASlide = +$.generatorASlide,\n\tB = +$.generatorB, BSlide = +$.generatorBSlide;\n\nfor(var i = 0; i < block.length; i++){\n\tvar phaseSpeed = block[i];\n\tphase += phaseSpeed;\n\tif(phase > TAU){ phase -= TAU };\n\tA += ASlide; B += BSlide;\n   A = A < 0 ? 0 : A > 1 ? 1 : A;\n   B = B < 0 ? 0 : B > 1 ? 1 : B;\n"+e+"\tblock[i] = sample;\n}\n\n$.generatorPhase = phase;\n$.generatorA = A;\n$.generatorB = B;\nreturn block.length;\n")}function g(t){"undefined"!=typeof Float32Array&&y(t instanceof Float32Array,"data must be an Float32Array");var r=i*n>>3,o=e.SampleRate*r,a=function(e){if("undefined"==typeof Uint8Array)for(var t=new Array(e),n=0;n<t.length;n++)t[n]=0;return new Uint8Array(e)}(44+2*t.length),s=0;function l(e){for(var t=0;t<e.length;t+=1)a[s]=e.charCodeAt(t),s++}function u(e,t){t<=0||(a[s]=255&e,s++,u(e>>8,t-1))}return l("RIFF"),u(36+2*t.length,4),l("WAVEfmt "),u(16,4),u(1,2),u(i,2),u(e.SampleRate,4),u(o,4),u(r,2),u(n,2),l("data"),u(2*t.length,4),m(a.subarray(s),t),new Audio("data:audio/wav;base64,"+function(e){for(var t="",n=0;n<e.length;n+=32768){var i=Math.min(n+32768,e.length);t+=String.fromCharCode.apply(null,e.subarray(n,i))}return btoa(t)}(a))}function m(e,t){y(e.length/2==t.length,"the target buffer must be twice as large as the iinput");for(var n=0,i=0;i<t.length;i++){var r=32767*+t[i]|0;r=r<-32768?-32768:32767<r?32767:r,r+=r<0?65536:0,e[n]=255&r,e[++n]=r>>8,n++}}function y(e,t){if(!e)throw new Error(t)}function v(e,t,n){return n=+n,(e=+e)<(t=+t)?+t:e>n?+n:+e}function S(e){return(e=+e)<0?0:e>1?1:+e}function M(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i],i));return n}function b(e,t){var n=F();return void 0!==e&&(n*=e),void 0!==t&&(n+=t),n}function w(e){return e[e.length*F()|0]}function x(e){var t=[];for(var n in e)t.push(n);return t}function P(e){if("undefined"==typeof Float32Array)for(var t=new Array(e),n=0;n<t.length;n++)t[n]=0;return new Float32Array(e)}e.InitDefaultParams=c,e.Processor=h,h.prototype={generate:function(e){for(var t=0;t<e.length;t+=1)e[t]=0;if(!this.finished){var n=this.state,i=0|e.length;for(t=0;t<this.modules.length;t+=1){var r=0|this.modules[t].process(n,e.subarray(0,i));i=Math.min(i,r)}for(i<e.length&&(this.finished=!0),t=i;t<e.length;t++)e[t]=0}},getSamplesLeft:function(){for(var e=0,t=0;t<this.state.envelopes.length;t+=1)e+=this.state.envelopes[t].N;return 0===e&&(e=3*this.state.SampleRate),e}},e.Module.Frequency={name:"Frequency",params:{Start:{L:30,H:1800,D:440},Min:{L:30,H:1800,D:30},Max:{L:30,H:1800,D:1800},Slide:{L:-1,H:1,D:0},DeltaSlide:{L:-1,H:1,D:0},RepeatSpeed:{L:0,H:3,D:0},ChangeAmount:{L:-12,H:12,D:0},ChangeSpeed:{L:0,H:1,D:0}},stage:l.PhaseSpeed,setup:function(e,n){var i=e.SampleRate;e.phaseParams=n,e.phaseSpeed=n.Start*t/i,e.phaseSpeedMax=n.Max*t/i,e.phaseSpeedMin=n.Min*t/i,e.phaseSpeedMin=Math.min(e.phaseSpeedMin,e.phaseSpeed),e.phaseSpeedMax=Math.max(e.phaseSpeedMax,e.phaseSpeed),e.phaseSlide=1+64*o(n.Slide,3)/i,e.phaseDeltaSlide=o(n.DeltaSlide,3)/(1e3*i),e.repeatTime=0,e.repeatLimit=1/0,n.RepeatSpeed>0&&(e.repeatLimit=n.RepeatSpeed*i),e.arpeggiatorTime=0,e.arpeggiatorLimit=n.ChangeSpeed*i,0==n.ChangeAmount&&(e.arpeggiatorLimit=1/0),e.arpeggiatorMod=1+n.ChangeAmount/12},process:function(e,t){for(var n=+e.phaseSpeed,i=+e.phaseSpeedMin,r=+e.phaseSpeedMax,o=+e.phaseSlide,a=+e.phaseDeltaSlide,s=e.repeatTime,l=e.repeatLimit,u=e.arpeggiatorTime,c=e.arpeggiatorLimit,h=e.arpeggiatorMod,f=0;f<t.length;f++){if(n=(n*=o+=a)<i?i:n>r?r:n,s>l)return this.setup(e,e.phaseParams),f+this.process(e,t.subarray(f))-1;s++,u>c&&(n*=h,u=0,c=1/0),u++,t[f]+=n}return e.repeatTime=s,e.arpeggiatorTime=u,e.arpeggiatorLimit=c,e.phaseSpeed=n,e.phaseSlide=o,t.length}},e.Module.Vibrato={name:"Vibrato",params:{Depth:{L:0,H:1,D:0},DepthSlide:{L:-1,H:1,D:0},Frequency:{L:.01,H:48,D:0},FrequencySlide:{L:-1,H:1,D:0}},stage:l.PhaseSpeedMod,setup:function(e,n){var i=e.SampleRate;e.vibratoPhase=0,e.vibratoDepth=n.Depth,e.vibratoPhaseSpeed=n.Frequency*t/i,e.vibratoPhaseSpeedSlide=1+3*o(n.FrequencySlide,3)/i,e.vibratoDepthSlide=n.DepthSlide/i},process:function(e,n){var i=+e.vibratoPhase,o=+e.vibratoDepth,a=+e.vibratoPhaseSpeed,s=+e.vibratoPhaseSpeedSlide,l=+e.vibratoDepthSlide;if(0==o&&l<=0)return n.length;for(var u=0;u<n.length;u++)(i+=a)>t&&(i-=t),n[u]+=n[u]*r(i)*o,a*=s,o=S(o+=l);return e.vibratoPhase=i,e.vibratoDepth=o,e.vibratoPhaseSpeed=a,n.length}},e.Module.Generator={name:"Generator",params:{Func:{C:e.G,D:"square"},A:{L:0,H:1,D:0},B:{L:0,H:1,D:0},ASlide:{L:-1,H:1,D:0},BSlide:{L:-1,H:1,D:0}},stage:l.Generator,setup:function(t,n){t.generatorPhase=0,"string"==typeof n.Func?t.generator=e.G[n.Func]:t.generator=n.Func,"object"==typeof t.generator&&(t.generator=t.generator.create()),y("function"==typeof t.generator,"generator must be a function"),t.generatorA=n.A,t.generatorASlide=n.ASlide,t.generatorB=n.B,t.generatorBSlide=n.BSlide},process:function(e,t){return e.generator(e,t)}},e.Module.Guitar={name:"Guitar",params:{A:{L:0,H:1,D:1},B:{L:0,H:1,D:1},C:{L:0,H:1,D:1}},stage:l.Generator,setup:function(e,t){e.guitarA=t.A,e.guitarB=t.B,e.guitarC=t.C,e.guitarBuffer=P(65536),e.guitarHead=0;for(var n=e.guitarBuffer,i=0;i<n.length;i++)n[i]=2*F()-1},process:function(e,n){for(var i=65536,r=i-1,o=+e.guitarA,a=+e.guitarB,s=+e.guitarC,l=o+a+s,u=e.guitarHead,c=e.guitarBuffer,h=0;h<n.length;h++){var f=t/n[h]|0,p=u-(f=f>i?i:f)+i&r;c[u]=(c[p-0+i&r]*o+c[p-1+i&r]*a+c[p-2+i&r]*s)/l,n[h]=c[u],u=u+1&r}return e.guitarHead=u,n.length}},e.Module.Filter={name:"Filter",params:{LP:{L:0,H:1,D:1},LPSlide:{L:-1,H:1,D:0},LPResonance:{L:0,H:1,D:0},HP:{L:0,H:1,D:0},HPSlide:{L:-1,H:1,D:0}},stage:l.SampleMod+0,setup:function(e,t){e.FilterEnabled=t.HP>1e-6||t.LP<1-1e-6,e.LPEnabled=t.LP<1-1e-6,e.LP=o(t.LP,3)/10,e.LPSlide=1+100*t.LPSlide/e.SampleRate,e.LPPos=0,e.LPPosSlide=0,e.LPDamping=5/(1+20*o(t.LPResonance,2))*(.01+t.LP),e.LPDamping=1-Math.min(e.LPDamping,.8),e.HP=o(t.HP,2)/10,e.HPPos=0,e.HPSlide=1+100*t.HPSlide/e.SampleRate},enabled:function(e){return e.FilterEnabled},process:function(e,t){if(!this.enabled(e))return t.length;for(var n=+e.LP,i=+e.LPPos,r=+e.LPPosSlide,o=+e.LPSlide,a=+e.LPDamping,s=+e.LPEnabled,l=+e.HP,u=+e.HPPos,c=+e.HPSlide,h=0;h<t.length;h++){(l>1e-6||l<-1e-6)&&(l=(l*=c)<1e-6?1e-6:l>.1?.1:l);var f=i;n=(n*=o)<0?n=0:n>.1?.1:n;var p=t[h];s?(r+=(p-i)*n,r*=a):(i=p,r=0),u+=(i+=r)-f,u*=1-l,t[h]=u}return e.LPPos=i,e.LPPosSlide=r,e.LP=n,e.HP=l,e.HPPos=u,t.length}},e.Module.Phaser={name:"Phaser",params:{Offset:{L:-1,H:1,D:0},Sweep:{L:-1,H:1,D:0}},stage:l.SampleMod+1,setup:function(e,t){e.phaserBuffer=P(1024),e.phaserPos=0,e.phaserOffset=1020*o(t.Offset,2),e.phaserOffsetSlide=4e3*o(t.Sweep,3)/e.SampleRate},enabled:function(e){return a(e.phaserOffsetSlide)>1e-6||a(e.phaserOffset)>1e-6},process:function(e,t){if(!this.enabled(e))return t.length;for(var n=e.phaserBuffer,i=0|e.phaserPos,r=+e.phaserOffset,o=+e.phaserOffsetSlide,a=0;a<t.length;a++){(r+=o)<0&&(r=-r,o=-o),r>1023&&(r=1023,o=0),n[i]=t[a];var s=i-(0|r)+1024&1023;t[a]+=n[s],i=i+1&1023|0}return e.phaserPos=i,e.phaserOffset=r,t.length}},e.Module.Volume={name:"Volume",params:{Master:{L:0,H:1,D:.5},Attack:{L:.001,H:1,D:.01},Sustain:{L:0,H:2,D:.3},Punch:{L:0,H:3,D:1},Decay:{L:.001,H:2,D:1}},stage:l.Volume,setup:function(e,t){var n=e.SampleRate,i=t.Master,r=i*(1+t.Punch);e.envelopes=[{S:0,E:i,N:t.Attack*n|0},{S:r,E:i,N:t.Sustain*n|0},{S:i,E:0,N:t.Decay*n|0}];for(var o=0;o<e.envelopes.length;o+=1){var a=e.envelopes[o];a.G=(a.E-a.S)/a.N}},process:function(e,t){for(var n=0;e.envelopes.length>0&&n<t.length;){for(var i=e.envelopes[0],r=i.S,o=i.G,a=0|Math.min(t.length-n,i.N),s=n+a|0;n<s;n+=1)t[n]*=r,r=v(r+=o,0,10);i.S=r,i.N-=a,i.N<=0&&e.envelopes.shift()}return n}},e.DefaultModules=[e.Module.Frequency,e.Module.Vibrato,e.Module.Generator,e.Module.Filter,e.Module.Phaser,e.Module.Volume],e.DefaultModules.sort(u),e.EmptyParams=f,e._RemoveEmptyParams=p,e.Preset={Reset:function(){return f()},Coin:function(){var e=f();return e.Frequency.Start=b(880,660),e.Volume.Sustain=b(.1),e.Volume.Decay=b(.4,.1),e.Volume.Punch=b(.3,.3),b()<.5&&(e.Frequency.ChangeSpeed=b(.15,.1),e.Frequency.ChangeAmount=b(8,4)),p(e),e},Laser:function(){var e=f();return e.Generator.Func=w(["square","saw","sine"]),b()<.33?(e.Frequency.Start=b(880,440),e.Frequency.Min=b(.1),e.Frequency.Slide=b(.3,-.8)):(e.Frequency.Start=b(1200,440),e.Frequency.Min=e.Frequency.Start-b(880,440),e.Frequency.Min<110&&(e.Frequency.Min=110),e.Frequency.Slide=b(.3,-1)),b()<.5?(e.Generator.A=b(.5),e.Generator.ASlide=b(.2)):(e.Generator.A=b(.5,.4),e.Generator.ASlide=b(.7)),e.Volume.Sustain=b(.2,.1),e.Volume.Decay=b(.4),b()<.5&&(e.Volume.Punch=b(.3)),b()<.33&&(e.Phaser.Offset=b(.2),e.Phaser.Sweep=b(.2)),b()<.5&&(e.Filter.HP=b(.3)),p(e),e},Explosion:function(){var e=f();return e.Generator.Func="noise",b()<.5?(e.Frequency.Start=b(440,40),e.Frequency.Slide=b(.4,-.1)):(e.Frequency.Start=b(1600,220),e.Frequency.Slide=b(-.2,-.2)),b()<.2&&(e.Frequency.Slide=0),b()<.3&&(e.Frequency.RepeatSpeed=b(.5,.3)),e.Volume.Sustain=b(.3,.1),e.Volume.Decay=b(.5),e.Volume.Punch=b(.6,.2),b()<.5&&(e.Phaser.Offset=b(.9,-.3),e.Phaser.Sweep=b(-.3)),b()<.33&&(e.Frequency.ChangeSpeed=b(.3,.6),e.Frequency.ChangeAmount=b(24,-12)),p(e),e},Powerup:function(){var e=f();return b()<.5?e.Generator.Func="saw":e.Generator.A=b(.6),e.Frequency.Start=b(220,440),b()<.5?(e.Frequency.Slide=b(.5,.2),e.Frequency.RepeatSpeed=b(.4,.4)):(e.Frequency.Slide=b(.2,.05),b()<.5&&(e.Vibrato.Depth=b(.6,.1),e.Vibrato.Frequency=b(30,10))),e.Volume.Sustain=b(.4),e.Volume.Decay=b(.4,.1),p(e),e},Hit:function(){var e=f();return e.Generator.Func=w(["square","saw","noise"]),e.Generator.A=b(.6),e.Generator.ASlide=b(1,-.5),e.Frequency.Start=b(880,220),e.Frequency.Slide=-b(.4,.3),e.Volume.Sustain=b(.1),e.Volume.Decay=b(.2,.1),b()<.5&&(e.Filter.HP=b(.3)),p(e),e},Jump:function(){var e=f();return e.Generator.Func="square",e.Generator.A=b(.6),e.Frequency.Start=b(330,330),e.Frequency.Slide=b(.4,.2),e.Volume.Sustain=b(.3,.1),e.Volume.Decay=b(.2,.1),b()<.5&&(e.Filter.HP=b(.3)),b()<.3&&(e.Filter.LP=b(-.6,1)),p(e),e},Select:function(){var e=f();return e.Generator.Func=w(["square","saw"]),e.Generator.A=b(.6),e.Frequency.Start=b(660,220),e.Volume.Sustain=b(.1,.1),e.Volume.Decay=b(.2),e.Filter.HP=.2,p(e),e},Lucky:function(){var t=f();return M(t,function(t,n){M(e.Module[n].params,function(e,n){if(e.C){var i=x(e.C);t[n]=i[i.length*F()|0]}else t[n]=F()*(e.H-e.L)+e.L})}),t.Volume.Master=.4,t.Filter={},p(t),t}},e.G.unoise=d("sample = Math.random();"),e.G.sine=d("sample = Math.sin(phase);"),e.G.saw=d("sample = 2*(phase/TAU - ((phase/TAU + 0.5)|0));"),e.G.triangle=d("sample = Math.abs(4 * ((phase/TAU - 0.25)%1) - 2) - 1;"),e.G.square=d("var s = Math.sin(phase); sample = s > A ? 1.0 : s < A ? -1.0 : A;"),e.G.synth=d("sample = Math.sin(phase) + .5*Math.sin(phase/2) + .3*Math.sin(phase/4);"),e.G.noise=d("if(phase % TAU < 4){__noiseLast = Math.random() * 2 - 1;} sample = __noiseLast;"),e.G.string={create:function(){for(var e=65536,t=e-1,n=P(e),i=0;i<n.length;i++)n[i]=2*F()-1;var r=0;return function(i,o){for(var a=2*Math.PI,s=+i.generatorA,l=+i.generatorASlide,u=+i.generatorB,c=+i.generatorBSlide,h=n,f=0;f<o.length;f++){var p=o[f];u+=c,s=(s+=l)<0?0:s>1?1:s,u=u<0?0:u>1?1:u;var d=r-(a/p|0)+e&t,g=(1*h[d-0+e&t]+h[d-1+e&t]*s+h[d-2+e&t]*u)/(1+s+u);h[r]=g,o[f]=h[r],r=r+1&t}return i.generatorA=s,i.generatorB=u,o.length}}},e.CreateAudio=g,e.DownloadAsFile=function(e){y(e instanceof Audio,"input must be an Audio object"),document.location.href=e.src},e.Util={},e.Util.CopyFToU8=m,e._createFloatArray=P;var L=Math.random;function F(){return L()}e.setRandomFunc=function(e){L=e}}(n={}),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);let r,o;t.Preset=i.Preset;let a,s,l={},u={},c=[];const h={c:t.Preset.Coin,l:t.Preset.Laser,e:t.Preset.Explosion,p:t.Preset.Powerup,h:t.Preset.Hit,j:t.Preset.Jump,s:t.Preset.Select,u:t.Preset.Lucky},f=function(e){let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}(h);let p,d=.5,g=!1;function m(e){null!=r&&(r._volume.gain.value=e)}function y(){null!=r&&I(c,e=>e.stop())}function v(e=32,t=.25,n,i=60,r=1,a=0,s=0,l=1,u=!1,c=!1,h=!1,f=!1,d=null){const g=new F(n,S(i),r);if(g.noteInterval=t,null!=p&&u)g.noteRatios=p.noteRatios;else{const t=null!=d?function(e,t){return D(e,()=>o.get()>=t)}(e,d):function(e){let t=T(e,!1),n=4;for(;n<=e;)t=M(t,n),n*=2;return t}(e);g.noteRatios=function(e,t,n,i,r){let a=o.get(),s=o.get(-.5,.5),l=e.length/x.length,u=[];return e.forEach((e,n)=>{let c=Math.floor(n/l),h=n%l;if(r&&c===Math.floor(x.length/2))return u.push(u[h]),void(a=u[h]);e?(u.push(a),s+=o.get(-.25,.25),a+=s*i,(o.get()<.2||a<=t||a>=1)&&(a-=2*s,s*=-1)):u.push(null)}),u}(t,c?0:-1,0,l,f)}return g.notes=function(e,t,n,i){let r=e.length/x.length;return e.map((e,a)=>{if(null==e)return null;let s=Math.floor(a/r),l=x[s][0],u=b[x[s][1]],c=e;i&&(c=Math.floor(2*c)/2);let h=Math.floor(c),f=Math.floor((c-h)*u.length);for(f+=t+o.getInt(-n,n+1);f>=u.length;)f-=u.length,h++;for(;f<0;)f+=u.length,h--;return 100*(l+12*h+u[f])})}(g.noteRatios,a,s,h),p=g,g}function S(e){return 440*Math.pow(2,(e-69)/12)}function M(e,t){let n=T(t,!1);const i=Math.floor(4*Math.abs(o.get()+o.get()-1));for(let e=0;e<i;e++)n[o.getInt(t-1)]=!0;return B(e,(e,i)=>n[i%t]?!e:e)}t.init=function(e=0,n=120,l=60){r=i.Live({}),m(.1),s=e,o=new class{get(e=1,t=null){return null==t&&(t=e,e=0),this.getToMaxInt()/4294967295*(t-e)+e}getInt(e,t=null){return null==t&&(t=e,e=0),this.getToMaxInt()%(t-e)+e}getPm(){return 2*this.getInt(2)-1}select(e){return e[this.getInt(e.length)]}setSeed(e=null,t=123456789,n=362436069,i=521288629,r=32){this.w=null!=e?e>>>0:Math.floor(4294967295*Math.random())>>>0,this.x=t>>>0,this.y=n>>>0,this.z=i>>>0;for(let e=0;e<r;e++)this.getToMaxInt();return this}getToMaxInt(){const e=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=(this.w^this.w>>>19^e^e>>>8)>>>0,this.w}constructor(){this.setSeed(),this.get=this.get.bind(this),this.getToMaxInt=this.getToMaxInt.bind(this)}},i.setRandomFunc(o.get),t.playInterval=60/n,a=1/l*2},t.setSeed=function(e=0){s=e},t.play=function(e="0",t=2,n=null,i=null,a=null){if(null==r)return;if(null!=l[e])return void l[e].play(a);if(o.setSeed(s+A(e)),null==i){let n=h[e[0]];void 0===n&&(n=o.select(f)),i=T(t,n)}const u=null==n?null:S(n);l[e]=new L(i,u),l[e].play(a)},t.playJingle=function(e="0",t=!1,n=57,i=16,a=.25,l=4,c=null,d=null){if(null==r)return;if(null!=u[e])return void u[e].forEach(e=>e.play(d));if(o.setSeed(s+A(e)),P(),p=null,null==c){let t=h[e[0]];void 0===t&&(t=o.select(f)),c=t}let g=.8;t&&(a/=4,g/=2),u[e]=D(l,()=>{const e=Math.floor(3*Math.abs(o.get()+o.get()-1)),r=Math.floor(10*(o.get()+o.get()-1)),s=t?2:Math.abs(o.get()+o.get()-1),l=o.get()<.25,u=!t&&o.get()<.5,h=o.get()<.5,f=t?o.get()<.25:o.get()<.9,p=o.get(.5),d=v(i,a,c,n,g,e,r,s,l,u,h,f,p);return d.isLooping=!1,d}),u[e].forEach(e=>e.play(d))},t.stopJingles=function(){_(u,e=>I(e,e=>e.stop()))},t.setVolume=m,t.setQuantize=function(e){d=e},t.update=function(){if(null==r)return;const e=r._context.currentTime,t=e+a;return _(l,n=>n.update(e,t)),_(u,n=>I(n,n=>n.update(e,t))),I(c,n=>n.update(e,t)),e},t.reset=function(){y(),l={},u={},c=[]},t.playEmpty=function(){if(null==r)return;if(g)return;const e=r._createEmptyBuffer();r._playBuffer(e,0),g=!0},t.playParam=function(e){null!=r&&r._play(e)},t.playBgm=function(e="0",n=45,i=32,a=.25,l=4,u=[t.Preset.Laser,t.Preset.Select,t.Preset.Hit,t.Preset.Hit],h=null){if(null==r)return;y(),o.setSeed(s+A(e)),P(),p=null;let f=o.select(u);I(c=D(l,()=>{const e=Math.floor(3*Math.abs(o.get()+o.get()-1)),t=Math.floor(10*(o.get()+o.get()-1)),r=Math.abs(o.get()+o.get()-1),s=o.get()<.25;s||(f=o.select(u));const l=o.get()<.5,c=o.get()<.5,h=o.get()<.9;return v(i,a,f,n,.7,e,t,r,s,l,c,h)}),e=>e.play(h))},t.stopBgm=y;const b=[[0,4,7],[0,3,7],[0,4,7,10],[0,4,7,11],[0,3,7,10]],w=[[[0,0],[7,0],[9,1],[4,1]],[[5,0],[0,0],[5,0],[7,0]],[[5,3],[7,2],[4,4],[9,1]],[[9,1],[2,1],[7,0],[0,0]],[[9,1],[5,0],[7,0],[0,0]]];let x;function P(){const e=o.select(w);x=e.map((e,t)=>[o.get()<.7?e[0]:w[o.getInt(w.length)][t][0],o.get()<.7?e[1]:o.getInt(b.length)])}class L{constructor(e,t=null,n=1){this.isPlaying=!1,this.playedTime=null,Array.isArray(e)||(e=[e]),this.buffers=B(e,e=>(e instanceof Function&&(e=e()),e.Volume.Sustain*=n,e.Volume.Decay*=n,null!=t&&(e.Frequency.Start=t),r._createBuffer(e))),this.gainNode=r._createGain()}play(e=null){this.isPlaying=!0,this.volume=e}stop(){this.isPlaying=!1}update(e,n){if(!this.isPlaying)return;this.isPlaying=!1;const i=t.playInterval*d,r=i>0?Math.ceil(e/i)*i:e;(null==this.playedTime||r>this.playedTime)&&(this.playLater(r),this.playedTime=r)}playLater(e,t=null){null==this.volume?I(this.buffers,n=>r._playBuffer(n,e,t)):(this.gainNode.gain.value=this.volume,I(this.buffers,n=>r._playBufferAndConnect(n,e,this.gainNode,t)))}}class F extends L{constructor(){super(...arguments),this.noteIndex=0,this.noteInterval=.25,this.scheduledTime=null,this.isLooping=!0}play(e=null){super.play(e),this.scheduledTime=null}update(e,t){if(this.isPlaying){null==this.scheduledTime&&this.calcFirstScheduledTime(e);for(let t=0;t<99&&!(this.scheduledTime>=e);t++)this.calcNextScheduledTime();if(this.scheduledTime<e)this.scheduledTime=null;else for(;this.scheduledTime<=t;){if(null!=this.nextNote&&this.playLater(this.scheduledTime,this.nextNote),!this.isLooping&&0===this.noteIndex)return void this.stop();this.calcNextScheduledTime()}}}calcFirstScheduledTime(e){this.scheduledTime=Math.ceil(e/t.playInterval)*t.playInterval-t.playInterval*this.noteInterval,this.noteIndex=0,this.calcNextScheduledTime()}calcNextScheduledTime(){const e=this.notes.length,n=t.playInterval*this.noteInterval;for(let t=0;t<e&&(this.scheduledTime+=n,this.nextNote=this.notes[this.noteIndex],this.noteIndex++,!(this.noteIndex>=e)||(this.noteIndex=0,this.isLooping))&&null==this.nextNote;t++);}}function A(e){let t=0;const n=e.length;for(let i=0;i<n;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}function T(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function D(e,t){let n=[];for(let i=0;i<e;i++)n.push(t(i));return n}function I(e,t){for(let n=0;n<e.length;n++)t(e[n])}function _(e,t){for(let n in e)t(e[n])}function B(e,t){let n=[];for(let i=0;i<e.length;i++)n.push(t(e[i],i));return n}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSeedUi=function(e){var t=document.createElement("p");t.innerHTML='<button id="change">change</button>random seed: <input type="number" id="seed" value="0"></input><button id="set">set</button>',document.getElementsByTagName("body")[0].appendChild(t);const n=document.getElementById("change"),i=document.getElementById("seed"),r=document.getElementById("set");function o(){e(Number(i.value))}n.onclick=function(){i.value=Math.floor(9999999*Math.random()).toString(),o()},r.onclick=o},t.enableShowingErrors=function(){const e=document.createElement("pre");e.setAttribute("id","result"),document.getElementsByTagName("body")[0].appendChild(e),window.addEventListener("error",function(t){var n=[t.filename,"@",t.lineno,":\n",t.message].join("");return e.textContent+="\n"+n,!1})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions={isMirrorX:!1,isMirrorY:!1,seed:0,hue:null,saturation:.8,value:1,rotationNum:1,scale:null,scaleX:null,scaleY:null,scalePattern:1,scalePatternX:null,scalePatternY:null,isRotatingRight:!1,isRotatingLeft:!1,isReverseX:!1,isReverseY:!1,isAddingEdgeFirst:!1,isInnerEdge:!1,colorNoise:.1,colorLighting:1,edgeDarkness:.4,isShowingEdge:!0,isShowingBody:!0,isLimitingColors:!1,isUsingLetterForm:!1,letterFormChar:"x",letterFormFontFamily:"monospace",letterFormFontSize:16,letterWidthRatio:.8,letterHeightRatio:.9};let i={},r={},o=0;function a(e,n={}){n.baseSeed=o;let r=Array.isArray(e)?e:e.split("\n");const a=JSON.stringify({patterns:r,options:n});if(i[a])return i[a];let s={};g(t.defaultOptions,(e,t)=>{s[t]=e}),g(n,(e,t)=>{s[t]=e});const l=new v;let u=o+function(e){let t=0;const n=e.length;for(let i=0;i<n;i++){const n=e.charCodeAt(i);t=(t<<5)-t+n,t|=0}return t}(r.join());null!=s.seed&&(u+=s.seed),l.setSeed(u),null==s.hue&&(s.hue=l.get()),null==s.scalePatternX&&(s.scalePatternX=s.scalePattern),null==s.scalePatternY&&(s.scalePatternY=s.scalePattern),s.isUsingLetterForm&&(r=function(e,t){const n=y(e,(e,t)=>Math.max(e,t.length),0),i=e.length,r=t.letterFormFontSize,o=Math.round(n*r),a=Math.round(i*r*1.2),s=document.createElement("canvas");s.width=o,s.height=a;const l=s.getContext("2d");l.font=`${r}px ${t.letterFormFontFamily}`,l.textBaseline="top",p(n,n=>{p(i,i=>{l.fillText(e[i][n],n*r*t.letterWidthRatio,i*r*1.2*t.letterHeightRatio)})});const u=l.getImageData(0,0,o,a).data,c=function(e,t,n){let i=t,r=-1,o=n,a=-1,s=3;return p(n,n=>{p(t,t=>{e[s]>0&&(i=t<i?t:i,r=t>r?t:r,o=n<o?n:o,a=n>a?n:a),s+=4})}),{bx:i,ex:r,by:o,ey:a}}(u,o,a),h=c.ex-c.bx+1;let f=[];return p(c.ey-c.by+1,e=>{let n="";p(h,i=>{const r=4*(i+c.bx+(e+c.by)*o)+3;n+=u[r]>.5?t.letterFormChar:" "}),f.push(n)}),f}(r,s));let S,M=function(e,t,n){let i=y(e,(e,t)=>Math.max(e,t.length),0),r=e.length,o=Math.round(i*t.scalePatternX),a=Math.round(r*t.scalePatternY);o+=t.isMirrorX?1:2,a+=t.isMirrorY?1:2;let s=function(e,t,n,i,r,o,a,s,l,u){let h=d(i,i=>{const l=Math.floor((i-1)/o);return d(r,i=>{const r=Math.floor((i-1)/a);if(l<0||l>=t||r<0||r>=n)return 0;const o=l<e[r].length?e[r][l]:" ";let c=0;return"-"===o?c=u.get()<.5?1:s?.5:0:"x"===o||"X"===o?c=u.get()<.5?1:-1:"o"===o||"O"===o?c=-1:"*"===o&&(c=1),c})});s&&(h=m(h=c(h,i,r,s,l),e=>m(e,e=>Math.floor(e))));return h}(e,i,r,o,a,t.scalePatternX,t.scalePatternY,t.isAddingEdgeFirst,t.isInnerEdge,n);t.isMirrorX&&(s=function(e,t,n){return d(2*t,i=>d(n,n=>i<t?e[i][n]:e[2*t-i-1][n]))}(s,o,a),o*=2);t.isMirrorY&&(s=function(e,t,n){return d(t,t=>d(2*n,i=>i<n?e[t][i]:e[t][2*n-i-1]))}(s,o,a),a*=2);if(t.isRotatingRight||t.isRotatingLeft){s=function(e,t,n,i){return d(n,i?i=>d(t,t=>e[t][n-1-i]):n=>d(t,i=>e[t-1-i][n]))}(s,o,a,t.isRotatingRight);const e=o;o=a,a=e}(t.isReverseX||t.isReverseY)&&(s=function(e,t,n,i){return d(t,i?i=>d(n,n=>e[t-1-i][n]):t=>d(n,i=>e[t][n-1-i]))}(s,o,a,t.isReverseX));s=c(s,o,a,!1,t.isInnerEdge),(null!=t.scale||null!=t.scaleX||null!=t.scaleY)&&(s=function(e,t,n,i){const r=null!=i.scaleX?i.scaleX:null!=i.scale?i.scale:1,o=null!=i.scaleY?i.scaleY:null!=i.scale?i.scale:1,a=Math.round(t*r),s=Math.round(n*o);let l=d(a,i=>{const a=Math.floor((i-1)/r);return d(s,i=>{const r=Math.floor((i-1)/o);return a<0||a>=t||r<0||r>=n?0:e[a][r]})});const u=(r+o)/2;return p(Math.floor((u-1)/2),()=>{l=function(e,t,n){return d(t,i=>d(n,r=>-1===e[i][r]&&h(e,t,n,0,i,r)?0:-1===e[i][r]&&h(e,t,n,1,i,r)?1:e[i][r]))}(l,a,s)}),c(l,a,s,!1,i.isInnerEdge)}(s,o,a,t));return s}(r,s,l);return S=s.rotationNum>1?m(function(e,t){const n=e.length,i=e[0].length,r=n/2,o=i/2,a=Math.max(n,i),s=2*Math.round(1.5*a/2),l=2*Math.round(1.5*a/2),u=s/2,c=l/2;let h={x:0,y:0};return d(t,a=>{const f=-a*Math.PI*2/t;return d(s,t=>d(l,a=>{h.x=t-u,h.y=a-c,function(e,t){const n=e.x;e.x=Math.cos(t)*n-Math.sin(t)*e.y,e.y=Math.sin(t)*n+Math.cos(t)*e.y}(h,f);const s=Math.round(h.x+r),l=Math.round(h.y+o);return s<0||s>=n||l<0||l>=i?0:e[s][l]}))})}(M,s.rotationNum),e=>f(e,s)):[f(M,s)],i[a]=S,S}function s(e,t={},n=!1){t.baseSeed=o;let i=Array.isArray(e)?e:e.split("\n");const s=JSON.stringify({patterns:i,options:t});if(r[s])return r[s];const l=a(i,t),c=l[0].length,h=l[0][0].length,f=document.createElement("canvas");f.width=c,f.height=h;const p=f.getContext("2d");let d=[],g=[];for(let e=0;e<l.length;e++){p.clearRect(0,0,c,h),u(p,l,c/2,h/2,e);const t=new Image;n&&g.push(new Promise((e,n)=>{t.onload=(n=>{e(t)})})),t.src=f.toDataURL(),d.push(t)}return r[s]=d,n?Promise.all(g):d}t.generate=a,t.generateImages=function(e,t={}){return s(e,t)},t.generateImagesPromise=function(e,t={}){return s(e,t,!0)},t.setSeed=function(e=0){o=e},t.setDefaultOptions=function(e){g(e,(e,n)=>{t.defaultOptions[n]=e})};class l{constructor(){this.r=0,this.g=0,this.b=0,this.isEmpty=!0}setFromHsv(e,t,n,i=!1){this.isEmpty=!1,this.r=n,this.g=n,this.b=n;const r=6*e,o=Math.floor(r),a=r-o;switch(o){case 0:this.g*=1-t*(1-a),this.b*=1-t;break;case 1:this.b*=1-t,this.r*=1-t*a;break;case 2:this.b*=1-t*(1-a),this.r*=1-t;break;case 3:this.r*=1-t,this.g*=1-t*a;break;case 4:this.r*=1-t*(1-a),this.g*=1-t;break;case 5:this.g*=1-t,this.b*=1-t*a}!0===i&&(this.r=this.limitColor(this.r),this.g=this.limitColor(this.g),this.b=this.limitColor(this.b)),this.setStyle()}setStyle(){const e=Math.floor(255*this.r),t=Math.floor(255*this.g),n=Math.floor(255*this.b);this.style=`rgb(${e},${t},${n})`}limitColor(e){return e<.25?0:e<.75?.5:1}}function u(e,t,n,i,r=0){const o=t[r],a=o.length,s=o[0].length,l=Math.floor(n-a/2),u=Math.floor(i-s/2);for(let t=0,n=u;t<s;t++,n++)for(let i=0,r=l;i<a;i++,r++){const a=o[i][t];a.isEmpty||(e.fillStyle=a.style,e.fillRect(r,n,1,1))}}function c(e,t,n,i,r){let o;return o=i?r?(i,r)=>1===Math.ceil(e[i][r])&&h(e,t,n,0,i,r):(i,r)=>0===e[i][r]&&h(e,t,n,null,i,r,e=>0!==e):r?(i,r)=>1===e[i][r]&&h(e,t,n,0,i,r):(i,r)=>0===e[i][r]&&h(e,t,n,1,i,r),d(t,t=>d(n,n=>o(t,n)?-1:e[t][n]))}function h(e,t,n,i,r,o,a=null){return[[-1,0],[1,0],[0,-1],[0,1]].some(s=>{const l=r+s[0],u=o+s[1];return!(l<0||l>=t||u<0||u>=n)&&(null==a?e[l][u]===i:a(e[l][u]))})}function f(e,t){const n=e.length,i=e[0].length;let r=0,o=!1;for(let t=0;t<i/2;t++){for(let r=0;r<n;r++)if(0!==e[r][t]||0!==e[r][i-1-t]){o=!0;break}if(o)break;r++}let a=i-2*r;a<=0&&(a=1);const s=new v;return s.setSeed(t.seed),d(n,n=>d(i,i=>{const o=e[n][i];if(1===o&&!t.isShowingBody||-1===o&&!t.isShowingEdge)return new l;if(0!==o){let e=((Math.sin((i-r)/a*Math.PI)*t.colorLighting+(1-t.colorLighting))*(1-t.colorNoise)+s.get()*t.colorNoise)*t.value;e=e>=0?e<=1?e:1:0,-1===o&&(e*=1-t.edgeDarkness);const n=new l;return n.setFromHsv(t.hue,t.saturation,e,t.isLimitingColors),n}return new l}))}function p(e,t){for(let n=0;n<e;n++)t(n)}function d(e,t){let n=[];for(let i=0;i<e;i++)n.push(t(i));return n}function g(e,t){for(let n in e)t(e[n],n)}function m(e,t){let n=[];for(let i=0;i<e.length;i++)n.push(t(e[i],i));return n}function y(e,t,n){let i=n;for(let n=0;n<e.length;n++)i=t(i,e[n],n);return i}t.Pixel=l,t.draw=u,t.drawImage=function(e,t,n,i,r=0){const o=t[r];e.drawImage(o,Math.floor(n-o.width/2),Math.floor(i-o.height/2))};class v{get(e=1,t=null){return null==t&&(t=e,e=0),this.getToMaxInt()/4294967295*(t-e)+e}getInt(e,t=null){return null==t&&(t=e,e=0),this.getToMaxInt()%(t-e)+e}getPm(){return 2*this.getInt(2)-1}select(e){return e[this.getInt(e.length)]}setSeed(e=null,t=123456789,n=362436069,i=521288629,r=32){this.w=null!=e?e>>>0:Math.floor(4294967295*Math.random())>>>0,this.x=t>>>0,this.y=n>>>0,this.z=i>>>0;for(let e=0;e<r;e++)this.getToMaxInt();return this}getToMaxInt(){const e=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=(this.w^this.w>>>19^e^e>>>8)>>>0,this.w}constructor(){this.setSeed(),this.get=this.get.bind(this),this.getToMaxInt=this.getToMaxInt.bind(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),r=n(2),o=n(1),a=n(0);let s=!1;const l=16;let u,c,h,f=[],p=null,d=0,g=0,m=1,y=!1;const v=128;let S={x:0,y:0};const M="Roboto Mono";function b(){i.setSeed(7828523),o.init(7828523),r.enableShowingErrors(),r.initSeedUi(D);const e=document.createElement("p");e.innerText="[Click/Touch]: shot",document.body.appendChild(e),(u=document.createElement("canvas")).width=u.height=v,document.body.appendChild(u),c=u.getContext("2d"),i.setDefaultOptions({isMirrorY:!0,rotationNum:l,scalePattern:2}),h=i.generateImages("RECOIL",{isUsingLetterForm:!0,letterFormFontFamily:`'${M}', monospace`,isMirrorY:!1,rotationNum:1,isAddingEdgeFirst:!0,isInnerEdge:!0,scalePattern:1.5,letterWidthRatio:.7,colorLighting:.5}),function(){for(let e=0;e<32;e++){const e={};e.rectColor={r:Math.floor(T(128,256)),g:Math.floor(T(128,256)),b:Math.floor(T(128,256))},e.pos={x:T(-16,144),y:T(-16,144)},e.vel={x:0,y:0},e.angle=0,e.update=function(){this.pos.x<-16&&(this.pos.x=160+this.pos.x),this.pos.x>132&&(this.pos.x=-160+this.pos.x),this.pos.y<-16&&(this.pos.y=160+this.pos.y),this.pos.y>132&&(this.pos.y=-160+this.pos.y)},e.priority=-3,f.push(e)}}(),document.addEventListener("mousedown",e=>{w(e.clientX,e.clientY)}),document.addEventListener("touchstart",e=>{w(e.touches[0].clientX,e.touches[0].clientY)}),document.addEventListener("mousemove",e=>{x(e.clientX,e.clientY)}),document.addEventListener("touchmove",e=>{e.preventDefault(),x(e.touches[0].clientX,e.touches[0].clientY)},{passive:!1}),document.addEventListener("touchend",e=>{e.preventDefault(),e.target.click()},{passive:!1}),P()}function w(e,t){o.playEmpty(),!s&&d>0&&(s=!0,g=d=0,m=1,o.playJingle("s1"),L()),y=!0,x(e,t)}function x(e,t){S.x=((e-u.offsetLeft)/u.clientWidth+.5)*v,S.y=((t-u.offsetTop)/u.clientHeight+.5)*v}function P(){requestAnimationFrame(P),o.update(),s&&180===d&&o.playBgm(),c.fillStyle="black",c.fillRect(0,0,v,v);const e=Math.sqrt(d/1e3+1);Math.random()<.03*e&&function(){const e={};if(e.images=i.generateImages([" x","xx"],{isMirrorX:!0}),e.pos={x:T(-32,160),y:Math.random()<.5?-32:160},Math.random()<.5){let t=e.pos.x;e.pos.x=e.pos.y,e.pos.y=t}e.vel={x:T(-.1,.1),y:T(-.1,.1)},e.angle=0,e.update=function(){if(null!=p){const e=Math.sqrt(d/1e3+1);this.vel.x+=1e-4*(p.pos.x-this.pos.x)*e,this.vel.y+=1e-4*(p.pos.y-this.pos.y)*e;const t=this.pos.x-p.pos.x,n=this.pos.y-p.pos.y;Math.sqrt(t*t+n*n)<10&&(s=!1,F(30,p.pos),o.playJingle("s3",!0,60,24),o.stopBgm(),p.isAlive=!1,p=null,d=-60)}else this.vel.y+=.01;this.vel.x*=.99,this.vel.y*=.99},e.name="enemy",e.priority=1,f.push(e)}(),f.sort((e,t)=>e.priority-t.priority),A(f,e=>{if(e.update(),e.pos.x+=e.vel.x,e.pos.y+=e.vel.y,(e.pos.x<-48||e.pos.x>176||e.pos.y<-48||e.pos.y>176)&&(e.isAlive=!1,"shot"===e.name&&(m=1)),null!=e.images&&function(e){let t=e.angle;t<0&&(t=2*Math.PI-Math.abs(t));const n=Math.round(t/(2*Math.PI/l))%l;i.drawImage(c,e.images,e.pos.x,e.pos.y,n)}(e),null!=e.rectColor){const t=e.rectColor;c.fillStyle=`rgb(${t.r}, ${t.g}, ${t.b})`,c.fillRect(e.pos.x,e.pos.y,1,1)}});for(let e=0;e<f.length;)!1===f[e].isAlive?f.splice(e,1):e++;s||i.drawImage(c,h,64,40),c.fillStyle="#ace",c.font=`9px '${M}', monospace`,c.fillText(`${g}`,5,10),c.fillText(`+${m}`,5,20),d++}function L(){null!=p&&(p.isAlive=!1),(p={}).images=i.generateImages([" x","xxxx"]),p.pos={x:64,y:64},p.vel={x:0,y:0},p.angle=0,p.update=function(){if(this.angle=Math.atan2(S.y-this.pos.y,S.x-this.pos.x),y){y=!1;const e={};e.images=i.generateImages(["xxx"],{isMirrorY:!1}),e.pos={x:this.pos.x,y:this.pos.y},e.angle=this.angle;const t=3;e.vel={x:Math.cos(this.angle)*t,y:Math.sin(this.angle)*t},e.update=function(){A(function(e){let t=[];return A(f,n=>{n.name===e&&t.push(n)}),t}("enemy"),e=>{let t=e.pos.x-this.pos.x,n=e.pos.y-this.pos.y;Math.sqrt(t*t+n*n)<10&&(this.isAlive=!1,e.isAlive=!1,F(5,e.pos),o.playJingle("l2",!0,69,12),g+=m,m++)})},e.name="shot",e.priority=-1,f.push(e),F(2,this.pos,this.angle),o.play("s1"),this.vel.x=-e.vel.x,this.vel.y=-e.vel.y}this.vel.x*=.7,this.vel.y*=.7;var e=.1*(64-this.pos.x),t=.1*(64-this.pos.y);A(f,n=>{n.pos.x+=e,n.pos.y+=t})},p.priority=0,f.push(p)}function F(e,t,n=null){for(var r=0;r<e;r++){const e={};e.images=i.generateImages(["x"],{isMirrorX:!0,colorLighting:.5,edgeDarkness:.8,value:.8}),e.pos={x:t.x,y:t.y},e.angle=null==n?T(0,2*Math.PI):n+T(-.5,.5);const r=T(.5,1);e.vel={x:Math.cos(e.angle)*r,y:Math.sin(e.angle)*r},e.ticks=T(15,30),e.update=function(){this.vel.x*=.98,this.vel.y*=.98,this.ticks--<0&&(this.isAlive=!1)},e.priority=-2,f.push(e)}}function A(e,t){for(let n=0;n<e.length;n++)t(e[n])}function T(e,t){return Math.random()*(t-e)+e}function D(e){i.setSeed(e),o.reset(),o.setSeed(e),s&&(o.playBgm(),L())}window.onload=(()=>{a.load({google:{families:[M]},active:b,inactive:b,timeout:2e3})})}]);