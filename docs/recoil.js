!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){var i;!function(){function r(t,e,n){return t.call.apply(t.bind,arguments)}function o(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function a(t,e,n){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};var l=!!window.FontFace;function u(t,e,n,i){if(e=t.c.createElement(e),n)for(var r in n)n.hasOwnProperty(r)&&("style"==r?e.style.cssText=n[r]:e.setAttribute(r,n[r]));return i&&e.appendChild(t.c.createTextNode(i)),e}function c(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,a=0;a<i.length;a+=1)if(e[r]===i[a]){o=!0;break}o||i.push(e[r])}for(e=[],r=0;r<i.length;r+=1){for(o=!1,a=0;a<n.length;a+=1)if(i[r]===n[a]){o=!0;break}o||e.push(i[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var n=t.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==e)return!0;return!1}function d(t,e,n){function i(){s&&r&&o&&(s(a),s=null)}e=u(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,o=!0,a=null,s=n||null;l?(e.onload=function(){r=!0,i()},e.onerror=function(){r=!0,a=Error("Stylesheet failed to load"),i()}):setTimeout(function(){r=!0,i()},0),c(t,"head",e)}function g(t,e,n,i){var r=t.c.getElementsByTagName("head")[0];if(r){var o=u(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))},r.appendChild(o),setTimeout(function(){a||(a=!0,n&&n(Error("Script load timeout")))},i||5e3),o}return null}function m(){this.a=0,this.c=null}function y(t){return t.a++,function(){t.a--,S(t)}}function v(t,e){t.c=e,S(t)}function S(t){0==t.a&&t.c&&(t.c(),t.c=null)}function M(t){this.a=t||"-"}function b(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function x(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function w(t){return t.a+t.f}function P(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function L(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function F(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),f(t.f,n,i)}A(t,"inactive")}function A(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,w(n)):t.h[e]())}function T(t,e){this.c=t,this.f=e,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function D(t){c(t.c,"body",t.a)}function I(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";font-style:"+P(t)+";font-weight:"+t.f+"00;"}function _(t,e,n,i,r,o){this.g=t,this.j=e,this.a=i,this.c=n,this.f=r||3e3,this.h=o||void 0}function B(t,e,n,i,r,o,a){this.v=t,this.B=e,this.c=n,this.a=i,this.s=a||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new T(this.c,this.s),this.h=new T(this.c,this.s),this.j=new T(this.c,this.s),this.m=new T(this.c,this.s),t=I(t=new b(this.a.c+",serif",w(this.a))),this.g.a.style.cssText=t,t=I(t=new b(this.a.c+",sans-serif",w(this.a))),this.h.a.style.cssText=t,t=I(t=new b("serif",w(this.a))),this.j.a.style.cssText=t,t=I(t=new b("sans-serif",w(this.a))),this.m.a.style.cssText=t,D(this.g),D(this.h),D(this.j),D(this.m)}M.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},_.prototype.start=function(){var t=this.c.o.document,e=this,n=s(),i=new Promise(function(i,r){!function o(){s()-n>=e.f?r():t.fonts.load(function(t){return P(t)+" "+t.f+"00 300px "+x(t.c)}(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(o,25)},function(){r()})}()}),r=null,o=new Promise(function(t,n){r=setTimeout(n,e.f)});Promise.race([o,i]).then(function(){r&&(clearTimeout(r),r=null),e.g(e.a)},function(){e.j(e.a)})};var C={D:"serif",C:"sans-serif"},E=null;function H(){if(null===E){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);E=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return E}function k(t,e,n){for(var i in C)if(C.hasOwnProperty(i)&&e===t.f[C[i]]&&n===t.f[C[i]])return!0;return!1}function j(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=H()&&k(t,n,i)),e?s()-t.A>=t.w?H()&&k(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?q(t,t.v):q(t,t.B):function(t){setTimeout(a(function(){j(this)},t),50)}(t):q(t,t.v)}function q(t,e){setTimeout(a(function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),e(this.a)},t),0)}function O(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}B.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),j(this)};var R=null;function N(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),A(t,"active")):F(t.a))}function G(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function V(t,e,n,i,r){var o=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=r||null,s=i||{};if(0===n.length&&o)F(e.a);else{e.f+=n.length,o&&(e.j=o);var l,u=[];for(l=0;l<n.length;l++){var c=n[l],h=s[c.c],p=e.a,d=c;if(p.g&&f(p.f,[p.a.c("wf",d.c,w(d).toString(),"loading")]),A(p,"fontloading",d),p=null,null===R)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);R=d?42<parseInt(d[1],10):!g}else R=!1;p=R?new _(a(e.g,e),a(e.h,e),e.c,c,e.s,h):new B(a(e.g,e),a(e.h,e),e.c,c,e.s,t,h),u.push(p)}for(l=0;l<u.length;l++)u[l].start()}},0)}function $(t,e){this.c=t,this.a=e}function X(t,e){this.c=t,this.a=e}O.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,w(t).toString(),"active")],[e.a.c("wf",t.c,w(t).toString(),"loading"),e.a.c("wf",t.c,w(t).toString(),"inactive")]),A(e,"fontactive",t),this.m=!0,N(this)},O.prototype.h=function(t){var e=this.a;if(e.g){var n=p(e.f,e.a.c("wf",t.c,w(t).toString(),"active")),i=[],r=[e.a.c("wf",t.c,w(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,w(t).toString(),"inactive")),f(e.f,i,r)}A(e,"fontinactive",t),N(this)},G.prototype.load=function(t){this.c=new function(t,e){this.a=t,this.o=e||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var i=[],r=n.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),A(t,"loading")}(e);var i=function(t,e,n){var i,r=[];for(i in e)if(e.hasOwnProperty(i)){var o=t.c[i];o&&r.push(o(e[i],n))}return r}(t.a,n,t.c),o=new O(t.c,e,r);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load(function(e,n,i){V(t,o,e,n,i)})}(this,new function(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new M("-"),this.j=!1!==e.events,this.g=!1!==e.classes}(this.c,t),t)},$.prototype.load=function(t){var e=this,n=e.a.projectId,i=e.a.version;if(n){var r=e.c.o;g(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),function(i){i?t([]):(r["__MonotypeConfiguration__"+n]=function(){return e.a},function e(){if(r["__mti_fntLst"+n]){var i,o=r["__mti_fntLst"+n](),a=[];if(o)for(var s=0;s<o.length;s++){var l=o[s].fontfamily;void 0!=o[s].fontStyle&&void 0!=o[s].fontWeight?(i=o[s].fontStyle+o[s].fontWeight,a.push(new b(l,i))):a.push(new b(l))}t(a)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},X.prototype.load=function(t){var e,n,i=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},a=new m;for(e=0,n=i.length;e<n;e++)d(this.c,i[e],y(a));var s=[];for(e=0,n=r.length;e<n;e++)if((i=r[e].split(":"))[1])for(var l=i[1].split(","),u=0;u<l.length;u+=1)s.push(new b(i[0],l[u]));else s.push(new b(i[0]));v(a,function(){t(s,o)})};var U="https://fonts.googleapis.com/css";var Y={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},W={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},J={i:"i",italic:"i",n:"n",normal:"n"},z=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function K(t,e){this.c=t,this.a=e}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function Z(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}K.prototype.load=function(t){var e=new m,n=this.c,i=new function(t,e){this.c=t||U,this.a=[],this.f=[],this.g=e||""}(this.a.api,this.a.text),r=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":"),t.a.push(r.join(o))}}(i,r);var o=new function(t){this.f=t,this.a=[],this.c={}}(r);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),r=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var a;if(a=[],s=i[1])for(var s,l=(s=s.split(",")).length,u=0;u<l;u++){var c;if((c=s[u]).match(/^[\w-]+$/))if(null==(f=z.exec(c.toLowerCase())))c="";else{if(c=null==(c=f[2])||""==c?"n":J[c],null==(f=f[1])||""==f)f="4";else var h=W[f],f=h||(isNaN(f)?"4":f.substr(0,1));c=[c,f].join("")}else c="";c&&a.push(c)}0<a.length&&(o=a),3==i.length&&(a=[],0<(i=(i=i[2])?i.split(","):a).length&&(i=Y[i[0]])&&(t.c[r]=i))}for(t.c[r]||(i=Y[r])&&(t.c[r]=i),i=0;i<o.length;i+=1)t.a.push(new b(r,o[i]))}}(o),d(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),y(e)),v(e,function(){t(o.a,o.c,Q)})},Z.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],r=0;r<e.length;r+=2)for(var o=e[r],a=e[r+1],s=0;s<a.length;s++)i.push(new b(o,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}},2e3):t([])},tt.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var r=0,o=n.fonts.length;r<o;++r){var a=n.fonts[r];i.a.push(new b(a.name,L("font-weight:"+a.weight+";font-style:"+a.style)))}t(i.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var et=new G(window);et.a.c.custom=function(t,e){return new X(e,t)},et.a.c.fontdeck=function(t,e){return new tt(e,t)},et.a.c.monotype=function(t,e){return new $(e,t)},et.a.c.typekit=function(t,e){return new Z(e,t)},et.a.c.google=function(t,e){return new K(e,t)};var nt={load:a(et.load,et)};void 0===(i=function(){return nt}.call(e,n,e,t))||(t.exports=i)}()},function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){var n;!function(t){"use strict";String.fromCharCode;var e=2*+Math.PI,n=16,i=1,r=Math.sin,o=Math.pow,a=Math.abs;t.SampleRate=0,t.Sec=0,t.SetSampleRate=function(e){t.SampleRate=0|e,t.Sec=0|e},t.SetSampleRate(void 0!==s?(new s).sampleRate:44100),t.Sound=function(e){var n=new h(e,t.DefaultModules),i=P(n.getSamplesLeft());return n.generate(i),g(i)},t.Sounds=function(e,n,i){var r={},o={};o._audio=r;var a=[];M(e,function(t,e){o[e]=function(){void 0!==r[e]&&(r[e].currentTime=0,r[e].play())},a.push(e)});var s=0,l=a.length;return function o(){if(0!=a.length){var u=a.shift();r[u]=t.Sound(e[u]),i&&i(u,++s,l),window.setTimeout(o,30)}else n&&n(sounds)}(),o},t.SoundsImmediate=function(e){var n={},i={};return i._audio=n,M(e,function(e,r){n[r]=t.Sound(e),i[r]=function(){void 0!==n[r]&&(n[r].currentTime=0,n[r].play())}}),i};var s=window.AudioContext||window.webkitAudioContext;void 0!==s?(t.Node=function(e,n,i,r,o){var a=e.createScriptProcessor(r,0,1),s=new h(n,i||t.DefaultModules);return a.onaudioprocess=function(t){var e=t.outputBuffer.getChannelData(0);s.generate(e),!o&&s.finished&&setTimeout(function(){a.disconnect()},30)},a},t.Live=function(e,n,i){i=i||2048;var r={},o=new s,a=o.createGain();function l(t,e){var n=o.createBufferSource();if(n.buffer=t,null!=e&&null!=n.playbackRate){const t=Math.pow(2,1/12);n.playbackRate.value=Math.pow(t,e/100)}return n.start=n.start||n.noteOn,n}return a.connect(o.destination),r._context=o,r._volume=a,M(e,function(e,s){r[s]=function(){t.Node(o,e,n,i).connect(a)}}),r._close=function(){o.close()},r._play=function(e){t.Node(o,e,n,i).connect(a)},r._createBuffer=function(e){var n=new h(e,t.DefaultModules),i=P(n.getSamplesLeft());return n.generate(i),r._createBufferFromBlock(i)},r._createEmptyBuffer=function(){return r._createBufferFromBlock([0])},r._createBufferFromBlock=function(e){var n=o.createBuffer(1,e.length,t.SampleRate);return n.getChannelData(0).set(e),n},r._playBuffer=function(t,e,n){var i=l(t,n);i.connect(a),i.start(e)},r._playBufferAndConnect=function(t,e,n,i){var r=l(t,i);r.connect(n),n.connect(a),r.start(e)},r._createGain=function(){return o.createGain()},r}):t.Live=function(t,e,n){return null},t.Module={},t.G={};var l=t.stage={PhaseSpeed:0,PhaseSpeedMod:10,Generator:20,SampleMod:30,Volume:40};function u(t,e){return t.stage-e.stage}function c(t,e){for(var n=0;n<e.length;n+=1){var i=e[n],r=t[i.name]||{};M(i.params,function(t,e){void 0===r[e]&&(r[e]=t.D)}),t[i.name]=r}}function h(e,n){e=e||{},n=n||t.DefaultModules,e="function"==typeof e?e():JSON.parse(JSON.stringify(e)),this.finished=!1,this.state={SampleRate:e.SampleRate||t.SampleRate},(n=n.slice()).sort(u),this.modules=n,c(e,n);for(var i=0;i<this.modules.length;i+=1){var r=this.modules[i];this.modules[i].setup(this.state,e[r.name])}}function f(){return M(t.Module,function(){return{}})}function p(t){for(var e in t)0==w(t[e]).length&&delete t[e]}function d(t){return new Function("$","block","var TAU = Math.PI * 2;\nvar sample;\nvar phase = +$.generatorPhase,\n\tA = +$.generatorA, ASlide = +$.generatorASlide,\n\tB = +$.generatorB, BSlide = +$.generatorBSlide;\n\nfor(var i = 0; i < block.length; i++){\n\tvar phaseSpeed = block[i];\n\tphase += phaseSpeed;\n\tif(phase > TAU){ phase -= TAU };\n\tA += ASlide; B += BSlide;\n   A = A < 0 ? 0 : A > 1 ? 1 : A;\n   B = B < 0 ? 0 : B > 1 ? 1 : B;\n"+t+"\tblock[i] = sample;\n}\n\n$.generatorPhase = phase;\n$.generatorA = A;\n$.generatorB = B;\nreturn block.length;\n")}function g(e){"undefined"!=typeof Float32Array&&y(e instanceof Float32Array,"data must be an Float32Array");var r=i*n>>3,o=t.SampleRate*r,a=function(t){if("undefined"==typeof Uint8Array)for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return new Uint8Array(t)}(44+2*e.length),s=0;function l(t){for(var e=0;e<t.length;e+=1)a[s]=t.charCodeAt(e),s++}function u(t,e){e<=0||(a[s]=255&t,s++,u(t>>8,e-1))}return l("RIFF"),u(36+2*e.length,4),l("WAVEfmt "),u(16,4),u(1,2),u(i,2),u(t.SampleRate,4),u(o,4),u(r,2),u(n,2),l("data"),u(2*e.length,4),m(a.subarray(s),e),new Audio("data:audio/wav;base64,"+function(t){for(var e="",n=0;n<t.length;n+=32768){var i=Math.min(n+32768,t.length);e+=String.fromCharCode.apply(null,t.subarray(n,i))}return btoa(e)}(a))}function m(t,e){y(t.length/2==e.length,"the target buffer must be twice as large as the iinput");for(var n=0,i=0;i<e.length;i++){var r=32767*+e[i]|0;r=r<-32768?-32768:32767<r?32767:r,r+=r<0?65536:0,t[n]=255&r,t[++n]=r>>8,n++}}function y(t,e){if(!t)throw new Error(e)}function v(t,e,n){return n=+n,(t=+t)<(e=+e)?+e:t>n?+n:+t}function S(t){return(t=+t)<0?0:t>1?1:+t}function M(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i],i));return n}function b(t,e){var n=F();return void 0!==t&&(n*=t),void 0!==e&&(n+=e),n}function x(t){return t[t.length*F()|0]}function w(t){var e=[];for(var n in t)e.push(n);return e}function P(t){if("undefined"==typeof Float32Array)for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return new Float32Array(t)}t.InitDefaultParams=c,t.Processor=h,h.prototype={generate:function(t){for(var e=0;e<t.length;e+=1)t[e]=0;if(!this.finished){var n=this.state,i=0|t.length;for(e=0;e<this.modules.length;e+=1){var r=0|this.modules[e].process(n,t.subarray(0,i));i=Math.min(i,r)}for(i<t.length&&(this.finished=!0),e=i;e<t.length;e++)t[e]=0}},getSamplesLeft:function(){for(var t=0,e=0;e<this.state.envelopes.length;e+=1)t+=this.state.envelopes[e].N;return 0===t&&(t=3*this.state.SampleRate),t}},t.Module.Frequency={name:"Frequency",params:{Start:{L:30,H:1800,D:440},Min:{L:30,H:1800,D:30},Max:{L:30,H:1800,D:1800},Slide:{L:-1,H:1,D:0},DeltaSlide:{L:-1,H:1,D:0},RepeatSpeed:{L:0,H:3,D:0},ChangeAmount:{L:-12,H:12,D:0},ChangeSpeed:{L:0,H:1,D:0}},stage:l.PhaseSpeed,setup:function(t,n){var i=t.SampleRate;t.phaseParams=n,t.phaseSpeed=n.Start*e/i,t.phaseSpeedMax=n.Max*e/i,t.phaseSpeedMin=n.Min*e/i,t.phaseSpeedMin=Math.min(t.phaseSpeedMin,t.phaseSpeed),t.phaseSpeedMax=Math.max(t.phaseSpeedMax,t.phaseSpeed),t.phaseSlide=1+64*o(n.Slide,3)/i,t.phaseDeltaSlide=o(n.DeltaSlide,3)/(1e3*i),t.repeatTime=0,t.repeatLimit=1/0,n.RepeatSpeed>0&&(t.repeatLimit=n.RepeatSpeed*i),t.arpeggiatorTime=0,t.arpeggiatorLimit=n.ChangeSpeed*i,0==n.ChangeAmount&&(t.arpeggiatorLimit=1/0),t.arpeggiatorMod=1+n.ChangeAmount/12},process:function(t,e){for(var n=+t.phaseSpeed,i=+t.phaseSpeedMin,r=+t.phaseSpeedMax,o=+t.phaseSlide,a=+t.phaseDeltaSlide,s=t.repeatTime,l=t.repeatLimit,u=t.arpeggiatorTime,c=t.arpeggiatorLimit,h=t.arpeggiatorMod,f=0;f<e.length;f++){if(n=(n*=o+=a)<i?i:n>r?r:n,s>l)return this.setup(t,t.phaseParams),f+this.process(t,e.subarray(f))-1;s++,u>c&&(n*=h,u=0,c=1/0),u++,e[f]+=n}return t.repeatTime=s,t.arpeggiatorTime=u,t.arpeggiatorLimit=c,t.phaseSpeed=n,t.phaseSlide=o,e.length}},t.Module.Vibrato={name:"Vibrato",params:{Depth:{L:0,H:1,D:0},DepthSlide:{L:-1,H:1,D:0},Frequency:{L:.01,H:48,D:0},FrequencySlide:{L:-1,H:1,D:0}},stage:l.PhaseSpeedMod,setup:function(t,n){var i=t.SampleRate;t.vibratoPhase=0,t.vibratoDepth=n.Depth,t.vibratoPhaseSpeed=n.Frequency*e/i,t.vibratoPhaseSpeedSlide=1+3*o(n.FrequencySlide,3)/i,t.vibratoDepthSlide=n.DepthSlide/i},process:function(t,n){var i=+t.vibratoPhase,o=+t.vibratoDepth,a=+t.vibratoPhaseSpeed,s=+t.vibratoPhaseSpeedSlide,l=+t.vibratoDepthSlide;if(0==o&&l<=0)return n.length;for(var u=0;u<n.length;u++)(i+=a)>e&&(i-=e),n[u]+=n[u]*r(i)*o,a*=s,o=S(o+=l);return t.vibratoPhase=i,t.vibratoDepth=o,t.vibratoPhaseSpeed=a,n.length}},t.Module.Generator={name:"Generator",params:{Func:{C:t.G,D:"square"},A:{L:0,H:1,D:0},B:{L:0,H:1,D:0},ASlide:{L:-1,H:1,D:0},BSlide:{L:-1,H:1,D:0}},stage:l.Generator,setup:function(e,n){e.generatorPhase=0,"string"==typeof n.Func?e.generator=t.G[n.Func]:e.generator=n.Func,"object"==typeof e.generator&&(e.generator=e.generator.create()),y("function"==typeof e.generator,"generator must be a function"),e.generatorA=n.A,e.generatorASlide=n.ASlide,e.generatorB=n.B,e.generatorBSlide=n.BSlide},process:function(t,e){return t.generator(t,e)}},t.Module.Guitar={name:"Guitar",params:{A:{L:0,H:1,D:1},B:{L:0,H:1,D:1},C:{L:0,H:1,D:1}},stage:l.Generator,setup:function(t,e){t.guitarA=e.A,t.guitarB=e.B,t.guitarC=e.C,t.guitarBuffer=P(65536),t.guitarHead=0;for(var n=t.guitarBuffer,i=0;i<n.length;i++)n[i]=2*F()-1},process:function(t,n){for(var i=65536,r=i-1,o=+t.guitarA,a=+t.guitarB,s=+t.guitarC,l=o+a+s,u=t.guitarHead,c=t.guitarBuffer,h=0;h<n.length;h++){var f=e/n[h]|0,p=u-(f=f>i?i:f)+i&r;c[u]=(c[p-0+i&r]*o+c[p-1+i&r]*a+c[p-2+i&r]*s)/l,n[h]=c[u],u=u+1&r}return t.guitarHead=u,n.length}},t.Module.Filter={name:"Filter",params:{LP:{L:0,H:1,D:1},LPSlide:{L:-1,H:1,D:0},LPResonance:{L:0,H:1,D:0},HP:{L:0,H:1,D:0},HPSlide:{L:-1,H:1,D:0}},stage:l.SampleMod+0,setup:function(t,e){t.FilterEnabled=e.HP>1e-6||e.LP<1-1e-6,t.LPEnabled=e.LP<1-1e-6,t.LP=o(e.LP,3)/10,t.LPSlide=1+100*e.LPSlide/t.SampleRate,t.LPPos=0,t.LPPosSlide=0,t.LPDamping=5/(1+20*o(e.LPResonance,2))*(.01+e.LP),t.LPDamping=1-Math.min(t.LPDamping,.8),t.HP=o(e.HP,2)/10,t.HPPos=0,t.HPSlide=1+100*e.HPSlide/t.SampleRate},enabled:function(t){return t.FilterEnabled},process:function(t,e){if(!this.enabled(t))return e.length;for(var n=+t.LP,i=+t.LPPos,r=+t.LPPosSlide,o=+t.LPSlide,a=+t.LPDamping,s=+t.LPEnabled,l=+t.HP,u=+t.HPPos,c=+t.HPSlide,h=0;h<e.length;h++){(l>1e-6||l<-1e-6)&&(l=(l*=c)<1e-6?1e-6:l>.1?.1:l);var f=i;n=(n*=o)<0?n=0:n>.1?.1:n;var p=e[h];s?(r+=(p-i)*n,r*=a):(i=p,r=0),u+=(i+=r)-f,u*=1-l,e[h]=u}return t.LPPos=i,t.LPPosSlide=r,t.LP=n,t.HP=l,t.HPPos=u,e.length}},t.Module.Phaser={name:"Phaser",params:{Offset:{L:-1,H:1,D:0},Sweep:{L:-1,H:1,D:0}},stage:l.SampleMod+1,setup:function(t,e){t.phaserBuffer=P(1024),t.phaserPos=0,t.phaserOffset=1020*o(e.Offset,2),t.phaserOffsetSlide=4e3*o(e.Sweep,3)/t.SampleRate},enabled:function(t){return a(t.phaserOffsetSlide)>1e-6||a(t.phaserOffset)>1e-6},process:function(t,e){if(!this.enabled(t))return e.length;for(var n=t.phaserBuffer,i=0|t.phaserPos,r=+t.phaserOffset,o=+t.phaserOffsetSlide,a=0;a<e.length;a++){(r+=o)<0&&(r=-r,o=-o),r>1023&&(r=1023,o=0),n[i]=e[a];var s=i-(0|r)+1024&1023;e[a]+=n[s],i=i+1&1023|0}return t.phaserPos=i,t.phaserOffset=r,e.length}},t.Module.Volume={name:"Volume",params:{Master:{L:0,H:1,D:.5},Attack:{L:.001,H:1,D:.01},Sustain:{L:0,H:2,D:.3},Punch:{L:0,H:3,D:1},Decay:{L:.001,H:2,D:1}},stage:l.Volume,setup:function(t,e){var n=t.SampleRate,i=e.Master,r=i*(1+e.Punch);t.envelopes=[{S:0,E:i,N:e.Attack*n|0},{S:r,E:i,N:e.Sustain*n|0},{S:i,E:0,N:e.Decay*n|0}];for(var o=0;o<t.envelopes.length;o+=1){var a=t.envelopes[o];a.G=(a.E-a.S)/a.N}},process:function(t,e){for(var n=0;t.envelopes.length>0&&n<e.length;){for(var i=t.envelopes[0],r=i.S,o=i.G,a=0|Math.min(e.length-n,i.N),s=n+a|0;n<s;n+=1)e[n]*=r,r=v(r+=o,0,10);i.S=r,i.N-=a,i.N<=0&&t.envelopes.shift()}return n}},t.DefaultModules=[t.Module.Frequency,t.Module.Vibrato,t.Module.Generator,t.Module.Filter,t.Module.Phaser,t.Module.Volume],t.DefaultModules.sort(u),t.EmptyParams=f,t._RemoveEmptyParams=p,t.Preset={Reset:function(){return f()},Coin:function(){var t=f();return t.Frequency.Start=b(880,660),t.Volume.Sustain=b(.1),t.Volume.Decay=b(.4,.1),t.Volume.Punch=b(.3,.3),b()<.5&&(t.Frequency.ChangeSpeed=b(.15,.1),t.Frequency.ChangeAmount=b(8,4)),p(t),t},Laser:function(){var t=f();return t.Generator.Func=x(["square","saw","sine"]),b()<.33?(t.Frequency.Start=b(880,440),t.Frequency.Min=b(.1),t.Frequency.Slide=b(.3,-.8)):(t.Frequency.Start=b(1200,440),t.Frequency.Min=t.Frequency.Start-b(880,440),t.Frequency.Min<110&&(t.Frequency.Min=110),t.Frequency.Slide=b(.3,-1)),b()<.5?(t.Generator.A=b(.5),t.Generator.ASlide=b(.2)):(t.Generator.A=b(.5,.4),t.Generator.ASlide=b(.7)),t.Volume.Sustain=b(.2,.1),t.Volume.Decay=b(.4),b()<.5&&(t.Volume.Punch=b(.3)),b()<.33&&(t.Phaser.Offset=b(.2),t.Phaser.Sweep=b(.2)),b()<.5&&(t.Filter.HP=b(.3)),p(t),t},Explosion:function(){var t=f();return t.Generator.Func="noise",b()<.5?(t.Frequency.Start=b(440,40),t.Frequency.Slide=b(.4,-.1)):(t.Frequency.Start=b(1600,220),t.Frequency.Slide=b(-.2,-.2)),b()<.2&&(t.Frequency.Slide=0),b()<.3&&(t.Frequency.RepeatSpeed=b(.5,.3)),t.Volume.Sustain=b(.3,.1),t.Volume.Decay=b(.5),t.Volume.Punch=b(.6,.2),b()<.5&&(t.Phaser.Offset=b(.9,-.3),t.Phaser.Sweep=b(-.3)),b()<.33&&(t.Frequency.ChangeSpeed=b(.3,.6),t.Frequency.ChangeAmount=b(24,-12)),p(t),t},Powerup:function(){var t=f();return b()<.5?t.Generator.Func="saw":t.Generator.A=b(.6),t.Frequency.Start=b(220,440),b()<.5?(t.Frequency.Slide=b(.5,.2),t.Frequency.RepeatSpeed=b(.4,.4)):(t.Frequency.Slide=b(.2,.05),b()<.5&&(t.Vibrato.Depth=b(.6,.1),t.Vibrato.Frequency=b(30,10))),t.Volume.Sustain=b(.4),t.Volume.Decay=b(.4,.1),p(t),t},Hit:function(){var t=f();return t.Generator.Func=x(["square","saw","noise"]),t.Generator.A=b(.6),t.Generator.ASlide=b(1,-.5),t.Frequency.Start=b(880,220),t.Frequency.Slide=-b(.4,.3),t.Volume.Sustain=b(.1),t.Volume.Decay=b(.2,.1),b()<.5&&(t.Filter.HP=b(.3)),p(t),t},Jump:function(){var t=f();return t.Generator.Func="square",t.Generator.A=b(.6),t.Frequency.Start=b(330,330),t.Frequency.Slide=b(.4,.2),t.Volume.Sustain=b(.3,.1),t.Volume.Decay=b(.2,.1),b()<.5&&(t.Filter.HP=b(.3)),b()<.3&&(t.Filter.LP=b(-.6,1)),p(t),t},Select:function(){var t=f();return t.Generator.Func=x(["square","saw"]),t.Generator.A=b(.6),t.Frequency.Start=b(660,220),t.Volume.Sustain=b(.1,.1),t.Volume.Decay=b(.2),t.Filter.HP=.2,p(t),t},Lucky:function(){var e=f();return M(e,function(e,n){M(t.Module[n].params,function(t,n){if(t.C){var i=w(t.C);e[n]=i[i.length*F()|0]}else e[n]=F()*(t.H-t.L)+t.L})}),e.Volume.Master=.4,e.Filter={},p(e),e}},t.G.unoise=d("sample = Math.random();"),t.G.sine=d("sample = Math.sin(phase);"),t.G.saw=d("sample = 2*(phase/TAU - ((phase/TAU + 0.5)|0));"),t.G.triangle=d("sample = Math.abs(4 * ((phase/TAU - 0.25)%1) - 2) - 1;"),t.G.square=d("var s = Math.sin(phase); sample = s > A ? 1.0 : s < A ? -1.0 : A;"),t.G.synth=d("sample = Math.sin(phase) + .5*Math.sin(phase/2) + .3*Math.sin(phase/4);"),t.G.noise=d("if(phase % TAU < 4){__noiseLast = Math.random() * 2 - 1;} sample = __noiseLast;"),t.G.string={create:function(){for(var t=65536,e=t-1,n=P(t),i=0;i<n.length;i++)n[i]=2*F()-1;var r=0;return function(i,o){for(var a=2*Math.PI,s=+i.generatorA,l=+i.generatorASlide,u=+i.generatorB,c=+i.generatorBSlide,h=n,f=0;f<o.length;f++){var p=o[f];u+=c,s=(s+=l)<0?0:s>1?1:s,u=u<0?0:u>1?1:u;var d=r-(a/p|0)+t&e,g=(1*h[d-0+t&e]+h[d-1+t&e]*s+h[d-2+t&e]*u)/(1+s+u);h[r]=g,o[f]=h[r],r=r+1&e}return i.generatorA=s,i.generatorB=u,o.length}}},t.CreateAudio=g,t.DownloadAsFile=function(t){y(t instanceof Audio,"input must be an Audio object"),document.location.href=t.src},t.Util={},t.Util.CopyFToU8=m,t._createFloatArray=P;var L=Math.random;function F(){return L()}t.setRandomFunc=function(t){L=t}}(n={}),t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(0);let r,o;e.Preset=i.Preset;let a,s,l={},u={},c=[];const h={c:e.Preset.Coin,l:e.Preset.Laser,e:e.Preset.Explosion,p:e.Preset.Powerup,h:e.Preset.Hit,j:e.Preset.Jump,s:e.Preset.Select,u:e.Preset.Lucky},f=function(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}(h);let p,d=.5,g=!1;function m(t){null!=r&&(r._volume.gain.value=t)}function y(){null!=r&&I(c,t=>t.stop())}function v(t=32,e=.25,n,i=60,r=1,a=0,s=0,l=1,u=!1,c=!1,h=!1,f=!1,d=null){const g=new F(n,S(i),r);if(g.noteInterval=e,null!=p&&u)g.noteRatios=p.noteRatios;else{const e=null!=d?function(t,e){return D(t,()=>o.get()>=e)}(t,d):function(t){let e=T(t,!1),n=4;for(;n<=t;)e=M(e,n),n*=2;return e}(t);g.noteRatios=function(t,e,n,i,r){let a=o.get(),s=o.get(-.5,.5),l=t.length/w.length,u=[];return t.forEach((t,n)=>{let c=Math.floor(n/l),h=n%l;if(r&&c===Math.floor(w.length/2))return u.push(u[h]),void(a=u[h]);t?(u.push(a),s+=o.get(-.25,.25),a+=s*i,(o.get()<.2||a<=e||a>=1)&&(a-=2*s,s*=-1)):u.push(null)}),u}(e,c?0:-1,0,l,f)}return g.notes=function(t,e,n,i){let r=t.length/w.length;return t.map((t,a)=>{if(null==t)return null;let s=Math.floor(a/r),l=w[s][0],u=b[w[s][1]],c=t;i&&(c=Math.floor(2*c)/2);let h=Math.floor(c),f=Math.floor((c-h)*u.length);for(f+=e+o.getInt(-n,n+1);f>=u.length;)f-=u.length,h++;for(;f<0;)f+=u.length,h--;return 100*(l+12*h+u[f])})}(g.noteRatios,a,s,h),p=g,g}function S(t){return 440*Math.pow(2,(t-69)/12)}function M(t,e){let n=T(e,!1);const i=Math.floor(4*Math.abs(o.get()+o.get()-1));for(let t=0;t<i;t++)n[o.getInt(e-1)]=!0;return B(t,(t,i)=>n[i%e]?!t:t)}e.init=function(t=0,n=120,l=60){r=i.Live({}),m(.1),s=t,o=new class{get(t=1,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()/4294967295*(e-t)+t}getInt(t,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()%(e-t)+t}getPm(){return 2*this.getInt(2)-1}select(t){return t[this.getInt(t.length)]}setSeed(t=null,e=123456789,n=362436069,i=521288629,r=32){this.w=null!=t?t>>>0:Math.floor(4294967295*Math.random())>>>0,this.x=e>>>0,this.y=n>>>0,this.z=i>>>0;for(let t=0;t<r;t++)this.getToMaxInt();return this}getToMaxInt(){const t=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=(this.w^this.w>>>19^t^t>>>8)>>>0,this.w}constructor(){this.setSeed(),this.get=this.get.bind(this),this.getToMaxInt=this.getToMaxInt.bind(this)}},i.setRandomFunc(o.get),e.playInterval=60/n,a=1/l*2},e.setSeed=function(t=0){s=t},e.play=function(t="0",e=2,n=null,i=null,a=null){if(null==r)return;if(null!=l[t])return void l[t].play(a);if(o.setSeed(s+A(t)),null==i){let n=h[t[0]];void 0===n&&(n=o.select(f)),i=T(e,n)}const u=null==n?null:S(n);l[t]=new L(i,u),l[t].play(a)},e.playJingle=function(t="0",e=!1,n=57,i=16,a=.25,l=4,c=null,d=null){if(null==r)return;if(null!=u[t])return void u[t].forEach(t=>t.play(d));if(o.setSeed(s+A(t)),P(),p=null,null==c){let e=h[t[0]];void 0===e&&(e=o.select(f)),c=e}let g=.8;e&&(a/=4,g/=2),u[t]=D(l,()=>{const t=Math.floor(3*Math.abs(o.get()+o.get()-1)),r=Math.floor(10*(o.get()+o.get()-1)),s=e?2:Math.abs(o.get()+o.get()-1),l=o.get()<.25,u=!e&&o.get()<.5,h=o.get()<.5,f=e?o.get()<.25:o.get()<.9,p=o.get(.5),d=v(i,a,c,n,g,t,r,s,l,u,h,f,p);return d.isLooping=!1,d}),u[t].forEach(t=>t.play(d))},e.stopJingles=function(){_(u,t=>I(t,t=>t.stop()))},e.setVolume=m,e.setQuantize=function(t){d=t},e.update=function(){if(null==r)return;const t=r._context.currentTime,e=t+a;return _(l,n=>n.update(t,e)),_(u,n=>I(n,n=>n.update(t,e))),I(c,n=>n.update(t,e)),t},e.reset=function(){y(),l={},u={},c=[]},e.playEmpty=function(){if(null==r)return;if(g)return;const t=r._createEmptyBuffer();r._playBuffer(t,0),g=!0},e.playParam=function(t){null!=r&&r._play(t)},e.playBgm=function(t="0",n=45,i=32,a=.25,l=4,u=[e.Preset.Laser,e.Preset.Select,e.Preset.Hit,e.Preset.Hit],h=null){if(null==r)return;y(),o.setSeed(s+A(t)),P(),p=null;let f=o.select(u);I(c=D(l,()=>{const t=Math.floor(3*Math.abs(o.get()+o.get()-1)),e=Math.floor(10*(o.get()+o.get()-1)),r=Math.abs(o.get()+o.get()-1),s=o.get()<.25;s||(f=o.select(u));const l=o.get()<.5,c=o.get()<.5,h=o.get()<.9;return v(i,a,f,n,.7,t,e,r,s,l,c,h)}),t=>t.play(h))},e.stopBgm=y;const b=[[0,4,7],[0,3,7],[0,4,7,10],[0,4,7,11],[0,3,7,10]],x=[[[0,0],[7,0],[9,1],[4,1]],[[5,0],[0,0],[5,0],[7,0]],[[5,3],[7,2],[4,4],[9,1]],[[9,1],[2,1],[7,0],[0,0]],[[9,1],[5,0],[7,0],[0,0]]];let w;function P(){const t=o.select(x);w=t.map((t,e)=>[o.get()<.7?t[0]:x[o.getInt(x.length)][e][0],o.get()<.7?t[1]:o.getInt(b.length)])}class L{constructor(t,e=null,n=1){this.isPlaying=!1,this.playedTime=null,Array.isArray(t)||(t=[t]),this.buffers=B(t,t=>(t instanceof Function&&(t=t()),t.Volume.Sustain*=n,t.Volume.Decay*=n,null!=e&&(t.Frequency.Start=e),r._createBuffer(t))),this.gainNode=r._createGain()}play(t=null){this.isPlaying=!0,this.volume=t}stop(){this.isPlaying=!1}update(t,n){if(!this.isPlaying)return;this.isPlaying=!1;const i=e.playInterval*d,r=i>0?Math.ceil(t/i)*i:t;(null==this.playedTime||r>this.playedTime)&&(this.playLater(r),this.playedTime=r)}playLater(t,e=null){null==this.volume?I(this.buffers,n=>r._playBuffer(n,t,e)):(this.gainNode.gain.value=this.volume,I(this.buffers,n=>r._playBufferAndConnect(n,t,this.gainNode,e)))}}class F extends L{constructor(){super(...arguments),this.noteIndex=0,this.noteInterval=.25,this.scheduledTime=null,this.isLooping=!0}play(t=null){super.play(t),this.scheduledTime=null}update(t,e){if(this.isPlaying){null==this.scheduledTime&&this.calcFirstScheduledTime(t);for(let e=0;e<99&&!(this.scheduledTime>=t);e++)this.calcNextScheduledTime();if(this.scheduledTime<t)this.scheduledTime=null;else for(;this.scheduledTime<=e;){if(null!=this.nextNote&&this.playLater(this.scheduledTime,this.nextNote),!this.isLooping&&0===this.noteIndex)return void this.stop();this.calcNextScheduledTime()}}}calcFirstScheduledTime(t){this.scheduledTime=Math.ceil(t/e.playInterval)*e.playInterval-e.playInterval*this.noteInterval,this.noteIndex=0,this.calcNextScheduledTime()}calcNextScheduledTime(){const t=this.notes.length,n=e.playInterval*this.noteInterval;for(let e=0;e<t&&(this.scheduledTime+=n,this.nextNote=this.notes[this.noteIndex],this.noteIndex++,!(this.noteIndex>=t)||(this.noteIndex=0,this.isLooping))&&null==this.nextNote;e++);}}function A(t){let e=0;const n=t.length;for(let i=0;i<n;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}function T(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function D(t,e){let n=[];for(let i=0;i<t;i++)n.push(e(i));return n}function I(t,e){for(let n=0;n<t.length;n++)e(t[n])}function _(t,e){for(let n in t)e(t[n])}function B(t,e){let n=[];for(let i=0;i<t.length;i++)n.push(e(t[i],i));return n}}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initSeedUi=function(t){var e=document.createElement("p");e.innerHTML='<button id="change">change</button>random seed: <input type="number" id="seed" value="0"></input><button id="set">set</button>',document.getElementsByTagName("body")[0].appendChild(e);const n=document.getElementById("change"),i=document.getElementById("seed"),r=document.getElementById("set");function o(){t(Number(i.value))}n.onclick=function(){i.value=Math.floor(9999999*Math.random()).toString(),o()},r.onclick=o},e.enableShowingErrors=function(){const t=document.createElement("pre");t.setAttribute("id","result"),document.getElementsByTagName("body")[0].appendChild(t),window.addEventListener("error",function(e){var n=[e.filename,"@",e.lineno,":\n",e.message].join("");return t.textContent+="\n"+n,!1})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions={isMirrorX:!1,isMirrorY:!1,seed:0,hue:null,saturation:.8,value:1,rotationNum:1,scale:null,scaleX:null,scaleY:null,scalePattern:1,scalePatternX:null,scalePatternY:null,isAddingEdgeFirst:!1,isInnerEdge:!1,colorNoise:.1,colorLighting:1,edgeDarkness:.4,isShowingEdge:!0,isShowingBody:!0,isLimitingColors:!1,isUsingLetterForm:!1,letterFormChar:"x",letterFormFontFamily:"monospace",letterFormFontSize:16,letterWidthRatio:.8,letterHeightRatio:.9,isRotatingLetterForm:!1};let i={},r={},o=0;function a(t,n={}){n.baseSeed=o;let r=Array.isArray(t)?t:t.split("\n");const a=JSON.stringify({patterns:r,options:n});if(i[a])return i[a];let s={};g(e.defaultOptions,(t,e)=>{s[e]=t}),g(n,(t,e)=>{s[e]=t});const l=new v;let u=o+function(t){let e=0;const n=t.length;for(let i=0;i<n;i++){const n=t.charCodeAt(i);e=(e<<5)-e+n,e|=0}return e}(r.join());null!=s.seed&&(u+=s.seed),l.setSeed(u),null==s.hue&&(s.hue=l.get()),null==s.scalePatternX&&(s.scalePatternX=s.scalePattern),null==s.scalePatternY&&(s.scalePatternY=s.scalePattern),s.isUsingLetterForm&&(r=function(t,e){const n=y(t,(t,e)=>Math.max(t,e.length),0),i=t.length,r=e.letterFormFontSize,o=Math.round(n*r),a=Math.round(i*r*1.2),s=document.createElement("canvas");s.width=o,s.height=a;const l=s.getContext("2d");l.font=`${r}px ${e.letterFormFontFamily}`,l.textBaseline="top",p(n,n=>{p(i,i=>{l.fillText(t[i][n],n*r*e.letterWidthRatio,i*r*1.2*e.letterHeightRatio)})});const u=l.getImageData(0,0,o,a).data,c=function(t,e,n){let i=e,r=-1,o=n,a=-1,s=3;return p(n,n=>{p(e,e=>{t[s]>0&&(i=e<i?e:i,r=e>r?e:r,o=n<o?n:o,a=n>a?n:a),s+=4})}),{bx:i,ex:r,by:o,ey:a}}(u,o,a),h=c.ex-c.bx+1,f=c.ey-c.by+1;let d=[];e.isRotatingLetterForm?p(h,t=>{let n="";p(f,i=>{const r=4*(t+c.bx+(c.ey-i)*o)+3;n+=u[r]>.5?e.letterFormChar:" "}),d.push(n)}):p(f,t=>{let n="";p(h,i=>{const r=4*(i+c.bx+(t+c.by)*o)+3;n+=u[r]>.5?e.letterFormChar:" "}),d.push(n)});return d}(r,s));let S,M=function(t,e,n){let i=y(t,(t,e)=>Math.max(t,e.length),0),r=t.length,o=Math.round(i*e.scalePatternX),a=Math.round(r*e.scalePatternY);o+=e.isMirrorX?1:2,a+=e.isMirrorY?1:2;let s=function(t,e,n,i,r,o,a,s,l,u){let h=d(i,i=>{const l=Math.floor((i-1)/o);return d(r,i=>{const r=Math.floor((i-1)/a);if(l<0||l>=e||r<0||r>=n)return 0;const o=l<t[r].length?t[r][l]:" ";let c=0;return"-"===o?c=u.get()<.5?1:s?.5:0:"x"===o||"X"===o?c=u.get()<.5?1:-1:"o"===o||"O"===o?c=-1:"*"===o&&(c=1),c})});s&&(h=m(h=c(h,i,r,s,l),t=>m(t,t=>Math.floor(t))));return h}(t,i,r,o,a,e.scalePatternX,e.scalePatternY,e.isAddingEdgeFirst,e.isInnerEdge,n);e.isMirrorX&&(s=function(t,e,n){return d(2*e,i=>d(n,n=>i<e?t[i][n]:t[2*e-i-1][n]))}(s,o,a),o*=2);e.isMirrorY&&(s=function(t,e,n){return d(e,e=>d(2*n,i=>i<n?t[e][i]:t[e][2*n-i-1]))}(s,o,a),a*=2);s=c(s,o,a,!1,e.isInnerEdge),(null!=e.scale||null!=e.scaleX||null!=e.scaleY)&&(s=function(t,e,n,i){const r=null!=i.scaleX?i.scaleX:null!=i.scale?i.scale:1,o=null!=i.scaleY?i.scaleY:null!=i.scale?i.scale:1,a=Math.round(e*r),s=Math.round(n*o);let l=d(a,i=>{const a=Math.floor((i-1)/r);return d(s,i=>{const r=Math.floor((i-1)/o);return a<0||a>=e||r<0||r>=n?0:t[a][r]})});const u=(r+o)/2;return p(Math.floor((u-1)/2),()=>{l=function(t,e,n){return d(e,i=>d(n,r=>-1===t[i][r]&&h(t,e,n,0,i,r)?0:-1===t[i][r]&&h(t,e,n,1,i,r)?1:t[i][r]))}(l,a,s)}),c(l,a,s,!1,i.isInnerEdge)}(s,o,a,e));return s}(r,s,l);return S=s.rotationNum>1?m(function(t,e){const n=t.length,i=t[0].length,r=n/2,o=i/2,a=Math.max(n,i),s=2*Math.round(1.5*a/2),l=2*Math.round(1.5*a/2),u=s/2,c=l/2;let h={x:0,y:0};return d(e,a=>{const f=-a*Math.PI*2/e;return d(s,e=>d(l,a=>{h.x=e-u,h.y=a-c,function(t,e){const n=t.x;t.x=Math.cos(e)*n-Math.sin(e)*t.y,t.y=Math.sin(e)*n+Math.cos(e)*t.y}(h,f);const s=Math.round(h.x+r),l=Math.round(h.y+o);return s<0||s>=n||l<0||l>=i?0:t[s][l]}))})}(M,s.rotationNum),t=>f(t,s)):[f(M,s)],i[a]=S,S}function s(t,e={},n=!1){e.baseSeed=o;let i=Array.isArray(t)?t:t.split("\n");const s=JSON.stringify({patterns:i,options:e});if(r[s])return r[s];const l=a(i,e),c=l[0].length,h=l[0][0].length,f=document.createElement("canvas");f.width=c,f.height=h;const p=f.getContext("2d");let d=[],g=[];for(let t=0;t<l.length;t++){p.clearRect(0,0,c,h),u(p,l,c/2,h/2,t);const e=new Image;n&&g.push(new Promise((t,n)=>{e.onload=(n=>{t(e)})})),e.src=f.toDataURL(),d.push(e)}return r[s]=d,n?Promise.all(g):d}e.generate=a,e.generateImages=function(t,e={}){return s(t,e)},e.generateImagesPromise=function(t,e={}){return s(t,e,!0)},e.setSeed=function(t=0){o=t},e.setDefaultOptions=function(t){g(t,(t,n)=>{e.defaultOptions[n]=t})};class l{constructor(){this.r=0,this.g=0,this.b=0,this.isEmpty=!0}setFromHsv(t,e,n,i=!1){this.isEmpty=!1,this.r=n,this.g=n,this.b=n;const r=6*t,o=Math.floor(r),a=r-o;switch(o){case 0:this.g*=1-e*(1-a),this.b*=1-e;break;case 1:this.b*=1-e,this.r*=1-e*a;break;case 2:this.b*=1-e*(1-a),this.r*=1-e;break;case 3:this.r*=1-e,this.g*=1-e*a;break;case 4:this.r*=1-e*(1-a),this.g*=1-e;break;case 5:this.g*=1-e,this.b*=1-e*a}!0===i&&(this.r=this.limitColor(this.r),this.g=this.limitColor(this.g),this.b=this.limitColor(this.b)),this.setStyle()}setStyle(){const t=Math.floor(255*this.r),e=Math.floor(255*this.g),n=Math.floor(255*this.b);this.style=`rgb(${t},${e},${n})`}limitColor(t){return t<.25?0:t<.75?.5:1}}function u(t,e,n,i,r=0){const o=e[r],a=o.length,s=o[0].length,l=Math.floor(n-a/2),u=Math.floor(i-s/2);for(let e=0,n=u;e<s;e++,n++)for(let i=0,r=l;i<a;i++,r++){const a=o[i][e];a.isEmpty||(t.fillStyle=a.style,t.fillRect(r,n,1,1))}}function c(t,e,n,i,r){let o;return o=i?r?(i,r)=>1===Math.ceil(t[i][r])&&h(t,e,n,0,i,r):(i,r)=>0===t[i][r]&&h(t,e,n,null,i,r,t=>0!==t):r?(i,r)=>1===t[i][r]&&h(t,e,n,0,i,r):(i,r)=>0===t[i][r]&&h(t,e,n,1,i,r),d(e,e=>d(n,n=>o(e,n)?-1:t[e][n]))}function h(t,e,n,i,r,o,a=null){return[[-1,0],[1,0],[0,-1],[0,1]].some(s=>{const l=r+s[0],u=o+s[1];return!(l<0||l>=e||u<0||u>=n)&&(null==a?t[l][u]===i:a(t[l][u]))})}function f(t,e){const n=t.length,i=t[0].length;let r=0,o=!1;for(let e=0;e<i/2;e++){for(let r=0;r<n;r++)if(0!==t[r][e]||0!==t[r][i-1-e]){o=!0;break}if(o)break;r++}let a=i-2*r;a<=0&&(a=1);const s=new v;return s.setSeed(e.seed),d(n,n=>d(i,i=>{const o=t[n][i];if(1===o&&!e.isShowingBody||-1===o&&!e.isShowingEdge)return new l;if(0!==o){let t=((Math.sin((i-r)/a*Math.PI)*e.colorLighting+(1-e.colorLighting))*(1-e.colorNoise)+s.get()*e.colorNoise)*e.value;t=t>=0?t<=1?t:1:0,-1===o&&(t*=1-e.edgeDarkness);const n=new l;return n.setFromHsv(e.hue,e.saturation,t,e.isLimitingColors),n}return new l}))}function p(t,e){for(let n=0;n<t;n++)e(n)}function d(t,e){let n=[];for(let i=0;i<t;i++)n.push(e(i));return n}function g(t,e){for(let n in t)e(t[n],n)}function m(t,e){let n=[];for(let i=0;i<t.length;i++)n.push(e(t[i],i));return n}function y(t,e,n){let i=n;for(let n=0;n<t.length;n++)i=e(i,t[n],n);return i}e.Pixel=l,e.draw=u,e.drawImage=function(t,e,n,i,r=0){const o=e[r];t.drawImage(o,Math.floor(n-o.width/2),Math.floor(i-o.height/2))};class v{get(t=1,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()/4294967295*(e-t)+t}getInt(t,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()%(e-t)+t}getPm(){return 2*this.getInt(2)-1}select(t){return t[this.getInt(t.length)]}setSeed(t=null,e=123456789,n=362436069,i=521288629,r=32){this.w=null!=t?t>>>0:Math.floor(4294967295*Math.random())>>>0,this.x=e>>>0,this.y=n>>>0,this.z=i>>>0;for(let t=0;t<r;t++)this.getToMaxInt();return this}getToMaxInt(){const t=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=(this.w^this.w>>>19^t^t>>>8)>>>0,this.w}constructor(){this.setSeed(),this.get=this.get.bind(this),this.getToMaxInt=this.getToMaxInt.bind(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(3),r=n(2),o=n(1),a=n(0);let s=!1;const l=16;let u,c,h,f=[],p=null,d=0,g=0,m=1,y=!1;const v=128;let S={x:0,y:0};const M="Roboto Mono";function b(){i.setSeed(7828523),o.init(7828523),r.enableShowingErrors(),r.initSeedUi(D);const t=document.createElement("p");t.innerText="[Click/Touch]: shot",document.body.appendChild(t),(u=document.createElement("canvas")).width=u.height=v,document.body.appendChild(u),c=u.getContext("2d"),i.setDefaultOptions({isMirrorY:!0,rotationNum:l,scalePattern:2}),h=i.generateImages("RECOIL",{isUsingLetterForm:!0,letterFormFontFamily:`'${M}', monospace`,isMirrorY:!1,rotationNum:1,isAddingEdgeFirst:!0,isInnerEdge:!0,scalePattern:1.5,letterWidthRatio:.7,colorLighting:.5}),function(){for(let t=0;t<32;t++){const t={};t.rectColor={r:Math.floor(T(128,256)),g:Math.floor(T(128,256)),b:Math.floor(T(128,256))},t.pos={x:T(-16,144),y:T(-16,144)},t.vel={x:0,y:0},t.angle=0,t.update=function(){this.pos.x<-16&&(this.pos.x=160+this.pos.x),this.pos.x>132&&(this.pos.x=-160+this.pos.x),this.pos.y<-16&&(this.pos.y=160+this.pos.y),this.pos.y>132&&(this.pos.y=-160+this.pos.y)},t.priority=-3,f.push(t)}}(),document.addEventListener("mousedown",t=>{x(t.clientX,t.clientY)}),document.addEventListener("touchstart",t=>{x(t.touches[0].clientX,t.touches[0].clientY)}),document.addEventListener("mousemove",t=>{w(t.clientX,t.clientY)}),document.addEventListener("touchmove",t=>{t.preventDefault(),w(t.touches[0].clientX,t.touches[0].clientY)},{passive:!1}),document.addEventListener("touchend",t=>{t.preventDefault(),t.target.click()},{passive:!1}),P()}function x(t,e){o.playEmpty(),!s&&d>0&&(s=!0,g=d=0,m=1,o.playJingle("s1"),L()),y=!0,w(t,e)}function w(t,e){S.x=((t-u.offsetLeft)/u.clientWidth+.5)*v,S.y=((e-u.offsetTop)/u.clientHeight+.5)*v}function P(){requestAnimationFrame(P),o.update(),s&&180===d&&o.playBgm(),c.fillStyle="black",c.fillRect(0,0,v,v);const t=Math.sqrt(d/1e3+1);Math.random()<.03*t&&function(){const t={};if(t.images=i.generateImages([" x","xx"],{isMirrorX:!0}),t.pos={x:T(-32,160),y:Math.random()<.5?-32:160},Math.random()<.5){let e=t.pos.x;t.pos.x=t.pos.y,t.pos.y=e}t.vel={x:T(-.1,.1),y:T(-.1,.1)},t.angle=0,t.update=function(){if(null!=p){const t=Math.sqrt(d/1e3+1);this.vel.x+=1e-4*(p.pos.x-this.pos.x)*t,this.vel.y+=1e-4*(p.pos.y-this.pos.y)*t;const e=this.pos.x-p.pos.x,n=this.pos.y-p.pos.y;Math.sqrt(e*e+n*n)<10&&(s=!1,F(30,p.pos),o.playJingle("s3",!0,60,24),o.stopBgm(),p.isAlive=!1,p=null,d=-60)}else this.vel.y+=.01;this.vel.x*=.99,this.vel.y*=.99},t.name="enemy",t.priority=1,f.push(t)}(),f.sort((t,e)=>t.priority-e.priority),A(f,t=>{if(t.update(),t.pos.x+=t.vel.x,t.pos.y+=t.vel.y,(t.pos.x<-48||t.pos.x>176||t.pos.y<-48||t.pos.y>176)&&(t.isAlive=!1,"shot"===t.name&&(m=1)),null!=t.images&&function(t){let e=t.angle;e<0&&(e=2*Math.PI-Math.abs(e));const n=Math.round(e/(2*Math.PI/l))%l;i.drawImage(c,t.images,t.pos.x,t.pos.y,n)}(t),null!=t.rectColor){const e=t.rectColor;c.fillStyle=`rgb(${e.r}, ${e.g}, ${e.b})`,c.fillRect(t.pos.x,t.pos.y,1,1)}});for(let t=0;t<f.length;)!1===f[t].isAlive?f.splice(t,1):t++;s||i.drawImage(c,h,64,40),c.fillStyle="#ace",c.font=`9px '${M}', monospace`,c.fillText(`${g}`,5,10),c.fillText(`+${m}`,5,20),d++}function L(){null!=p&&(p.isAlive=!1),(p={}).images=i.generateImages([" x","xxxx"]),p.pos={x:64,y:64},p.vel={x:0,y:0},p.angle=0,p.update=function(){if(this.angle=Math.atan2(S.y-this.pos.y,S.x-this.pos.x),y){y=!1;const t={};t.images=i.generateImages(["xxx"],{isMirrorY:!1}),t.pos={x:this.pos.x,y:this.pos.y},t.angle=this.angle;const e=3;t.vel={x:Math.cos(this.angle)*e,y:Math.sin(this.angle)*e},t.update=function(){A(function(t){let e=[];return A(f,n=>{n.name===t&&e.push(n)}),e}("enemy"),t=>{let e=t.pos.x-this.pos.x,n=t.pos.y-this.pos.y;Math.sqrt(e*e+n*n)<10&&(this.isAlive=!1,t.isAlive=!1,F(5,t.pos),o.playJingle("l2",!0,69,12),g+=m,m++)})},t.name="shot",t.priority=-1,f.push(t),F(2,this.pos,this.angle),o.play("s1"),this.vel.x=-t.vel.x,this.vel.y=-t.vel.y}this.vel.x*=.7,this.vel.y*=.7;var t=.1*(64-this.pos.x),e=.1*(64-this.pos.y);A(f,n=>{n.pos.x+=t,n.pos.y+=e})},p.priority=0,f.push(p)}function F(t,e,n=null){for(var r=0;r<t;r++){const t={};t.images=i.generateImages(["x"],{isMirrorX:!0,colorLighting:.5,edgeDarkness:.8,value:.8}),t.pos={x:e.x,y:e.y},t.angle=null==n?T(0,2*Math.PI):n+T(-.5,.5);const r=T(.5,1);t.vel={x:Math.cos(t.angle)*r,y:Math.sin(t.angle)*r},t.ticks=T(15,30),t.update=function(){this.vel.x*=.98,this.vel.y*=.98,this.ticks--<0&&(this.isAlive=!1)},t.priority=-2,f.push(t)}}function A(t,e){for(let n=0;n<t.length;n++)e(t[n])}function T(t,e){return Math.random()*(e-t)+t}function D(t){i.setSeed(t),o.reset(),o.setSeed(t),s&&(o.playBgm(),L())}window.onload=(()=>{a.load({google:{families:[M]},active:b,inactive:b,timeout:2e3})})}]);