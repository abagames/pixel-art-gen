!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){var i;!function(){function s(t,e,n){return t.call.apply(t.bind,arguments)}function r(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function o(t,e,n){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:r).apply(null,arguments)}var a=Date.now||function(){return+new Date};var l=!!window.FontFace;function u(t,e,n,i){if(e=t.c.createElement(e),n)for(var s in n)n.hasOwnProperty(s)&&("style"==s?e.style.cssText=n[s]:e.setAttribute(s,n[s]));return i&&e.appendChild(t.c.createTextNode(i)),e}function h(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),s=0;s<e.length;s+=1){for(var r=!1,o=0;o<i.length;o+=1)if(e[s]===i[o]){r=!0;break}r||i.push(e[s])}for(e=[],s=0;s<i.length;s+=1){for(r=!1,o=0;o<n.length;o+=1)if(i[s]===n[o]){r=!0;break}r||e.push(i[s])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,e){for(var n=t.className.split(/\s+/),i=0,s=n.length;i<s;i++)if(n[i]==e)return!0;return!1}function p(t,e,n){function i(){a&&s&&r&&(a(o),a=null)}e=u(t,"link",{rel:"stylesheet",href:e,media:"all"});var s=!1,r=!0,o=null,a=n||null;l?(e.onload=function(){s=!0,i()},e.onerror=function(){s=!0,o=Error("Stylesheet failed to load"),i()}):setTimeout(function(){s=!0,i()},0),h(t,"head",e)}function g(t,e,n,i){var s=t.c.getElementsByTagName("head")[0];if(s){var r=u(t,"script",{src:e}),o=!1;return r.onload=r.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,n&&n(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&s.removeChild(r))},s.appendChild(r),setTimeout(function(){o||(o=!0,n&&n(Error("Script load timeout")))},i||5e3),r}return null}function m(){this.a=0,this.c=null}function y(t){return t.a++,function(){t.a--,b(t)}}function v(t,e){t.c=e,b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function S(t){this.a=t||"-"}function w(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function M(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function x(t){return t.a+t.f}function P(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function F(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function L(t){if(t.g){var e=d(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),f(t.f,n,i)}T(t,"inactive")}function T(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,x(n)):t.h[e]())}function k(t,e){this.c=t,this.f=e,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function A(t){h(t.c,"body",t.a)}function D(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+M(t.c)+";font-style:"+P(t)+";font-weight:"+t.f+"00;"}function C(t,e,n,i,s,r){this.g=t,this.j=e,this.a=i,this.c=n,this.f=s||3e3,this.h=r||void 0}function I(t,e,n,i,s,r,o){this.v=t,this.B=e,this.c=n,this.a=i,this.s=o||"BESbswy",this.f={},this.w=s||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new k(this.c,this.s),this.h=new k(this.c,this.s),this.j=new k(this.c,this.s),this.m=new k(this.c,this.s),t=D(t=new w(this.a.c+",serif",x(this.a))),this.g.a.style.cssText=t,t=D(t=new w(this.a.c+",sans-serif",x(this.a))),this.h.a.style.cssText=t,t=D(t=new w("serif",x(this.a))),this.j.a.style.cssText=t,t=D(t=new w("sans-serif",x(this.a))),this.m.a.style.cssText=t,A(this.g),A(this.h),A(this.j),A(this.m)}S.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},C.prototype.start=function(){var t=this.c.o.document,e=this,n=a(),i=new Promise(function(i,s){!function r(){a()-n>=e.f?s():t.fonts.load(function(t){return P(t)+" "+t.f+"00 300px "+M(t.c)}(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(r,25)},function(){s()})}()}),s=null,r=new Promise(function(t,n){s=setTimeout(n,e.f)});Promise.race([r,i]).then(function(){s&&(clearTimeout(s),s=null),e.g(e.a)},function(){e.j(e.a)})};var R={D:"serif",C:"sans-serif"},_=null;function B(){if(null===_){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);_=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return _}function E(t,e,n){for(var i in R)if(R.hasOwnProperty(i)&&e===t.f[R[i]]&&n===t.f[R[i]])return!0;return!1}function H(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=B()&&E(t,n,i)),e?a()-t.A>=t.w?B()&&E(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?j(t,t.v):j(t,t.B):function(t){setTimeout(o(function(){H(this)},t),50)}(t):j(t,t.v)}function j(t,e){setTimeout(o(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),e(this.a)},t),0)}function O(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}I.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),H(this)};var q=null;function N(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),T(t,"active")):L(t.a))}function G(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function z(t,e,n,i,s){var r=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=s||null,a=i||{};if(0===n.length&&r)L(e.a);else{e.f+=n.length,r&&(e.j=r);var l,u=[];for(l=0;l<n.length;l++){var h=n[l],c=a[h.c],d=e.a,p=h;if(d.g&&f(d.f,[d.a.c("wf",p.c,x(p).toString(),"loading")]),T(d,"fontloading",p),d=null,null===q)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);q=p?42<parseInt(p[1],10):!g}else q=!1;d=q?new C(o(e.g,e),o(e.h,e),e.c,h,e.s,c):new I(o(e.g,e),o(e.h,e),e.c,h,e.s,t,c),u.push(d)}for(l=0;l<u.length;l++)u[l].start()}},0)}function V(t,e){this.c=t,this.a=e}function $(t,e){this.c=t,this.a=e}O.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,x(t).toString(),"active")],[e.a.c("wf",t.c,x(t).toString(),"loading"),e.a.c("wf",t.c,x(t).toString(),"inactive")]),T(e,"fontactive",t),this.m=!0,N(this)},O.prototype.h=function(t){var e=this.a;if(e.g){var n=d(e.f,e.a.c("wf",t.c,x(t).toString(),"active")),i=[],s=[e.a.c("wf",t.c,x(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,x(t).toString(),"inactive")),f(e.f,i,s)}T(e,"fontinactive",t),N(this)},G.prototype.load=function(t){this.c=new function(t,e){this.a=t,this.o=e||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var i=[],s=n.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),T(t,"loading")}(e);var i=function(t,e,n){var i,s=[];for(i in e)if(e.hasOwnProperty(i)){var r=t.c[i];r&&s.push(r(e[i],n))}return s}(t.a,n,t.c),r=new O(t.c,e,s);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load(function(e,n,i){z(t,r,e,n,i)})}(this,new function(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new S("-"),this.j=!1!==e.events,this.g=!1!==e.classes}(this.c,t),t)},V.prototype.load=function(t){var e=this,n=e.a.projectId,i=e.a.version;if(n){var s=e.c.o;g(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),function(i){i?t([]):(s["__MonotypeConfiguration__"+n]=function(){return e.a},function e(){if(s["__mti_fntLst"+n]){var i,r=s["__mti_fntLst"+n](),o=[];if(r)for(var a=0;a<r.length;a++){var l=r[a].fontfamily;void 0!=r[a].fontStyle&&void 0!=r[a].fontWeight?(i=r[a].fontStyle+r[a].fontWeight,o.push(new w(l,i))):o.push(new w(l))}t(o)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},$.prototype.load=function(t){var e,n,i=this.a.urls||[],s=this.a.families||[],r=this.a.testStrings||{},o=new m;for(e=0,n=i.length;e<n;e++)p(this.c,i[e],y(o));var a=[];for(e=0,n=s.length;e<n;e++)if((i=s[e].split(":"))[1])for(var l=i[1].split(","),u=0;u<l.length;u+=1)a.push(new w(i[0],l[u]));else a.push(new w(i[0]));v(o,function(){t(a,r)})};var X="https://fonts.googleapis.com/css";var Y={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},U={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},W={i:"i",italic:"i",n:"n",normal:"n"},J=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function K(t,e){this.c=t,this.a=e}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function Z(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}K.prototype.load=function(t){var e=new m,n=this.c,i=new function(t,e){this.c=t||X,this.a=[],this.f=[],this.g=e||""}(this.a.api,this.a.text),s=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var s=e[i].split(":");3==s.length&&t.f.push(s.pop());var r="";2==s.length&&""!=s[1]&&(r=":"),t.a.push(s.join(r))}}(i,s);var r=new function(t){this.f=t,this.a=[],this.c={}}(s);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),s=i[0].replace(/\+/g," "),r=["n4"];if(2<=i.length){var o;if(o=[],a=i[1])for(var a,l=(a=a.split(",")).length,u=0;u<l;u++){var h;if((h=a[u]).match(/^[\w-]+$/))if(null==(f=J.exec(h.toLowerCase())))h="";else{if(h=null==(h=f[2])||""==h?"n":W[h],null==(f=f[1])||""==f)f="4";else var c=U[f],f=c||(isNaN(f)?"4":f.substr(0,1));h=[h,f].join("")}else h="";h&&o.push(h)}0<o.length&&(r=o),3==i.length&&(o=[],0<(i=(i=i[2])?i.split(","):o).length&&(i=Y[i[0]])&&(t.c[s]=i))}for(t.c[s]||(i=Y[s])&&(t.c[s]=i),i=0;i<r.length;i+=1)t.a.push(new w(s,r[i]))}}(r),p(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),y(e)),v(e,function(){t(r.a,r.c,Q)})},Z.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],s=0;s<e.length;s+=2)for(var r=e[s],o=e[s+1],a=0;a<o.length;a++)i.push(new w(r,o[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}},2e3):t([])},tt.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var s=0,r=n.fonts.length;s<r;++s){var o=n.fonts[s];i.a.push(new w(o.name,F("font-weight:"+o.weight+";font-style:"+o.style)))}t(i.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var et=new G(window);et.a.c.custom=function(t,e){return new $(e,t)},et.a.c.fontdeck=function(t,e){return new tt(e,t)},et.a.c.monotype=function(t,e){return new V(e,t)},et.a.c.typekit=function(t,e){return new Z(e,t)},et.a.c.google=function(t,e){return new K(e,t)};var nt={load:o(et.load,et)};void 0===(i=function(){return nt}.call(e,n,e,t))||(t.exports=i)}()},function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.options={scaleRatio:1,canvas:null,isLimitingColors:!1};let i,s={},r=0,o=[];function a(){for(let t=0;t<o.length;t++)o[t].clear()}e.emit=function(t,e,n,o=0,a={},u=i){if(null==u&&null==i&&(u=i=new h),null==s[t]){const e=new class{get(t=1,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()/4294967295*(e-t)+t}getInt(t,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()%(e-t)+t}getPm(){return 2*this.getInt(2)-1}select(t){return t[this.getInt(t.length)]}getForParam(){return this.get(.5,1.5)}setSeed(t=null,e=123456789,n=362436069,i=521288629,s=32){this.w=null!=t?t>>>0:Math.floor(4294967295*Math.random())>>>0,this.x=e>>>0,this.y=n>>>0,this.z=i>>>0;for(let t=0;t<s;t++)this.getToMaxInt();return this}getToMaxInt(){const t=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=(this.w^this.w>>>19^t^t>>>8)>>>0,this.w}constructor(){this.setSeed(),this.get=this.get.bind(this),this.getToMaxInt=this.getToMaxInt.bind(this)}};e.setSeed(r+function(t){let e=0;const n=t.length;for(let i=0;i<n;i++){const n=t.charCodeAt(i);e=(e<<5)-e+n,e|=0}return e}(t)),s[t]=new l(t[0],a,e)}const c=null==a.velX?0:a.velX,f=null==a.velY?0:a.velY;s[t].emit(e,n,o,c,f,u)},e.update=function(){for(let t=0;t<o.length;t++)o[t].update()},e.getParticles=function(){return i.particles},e.setSeed=function(t=0){r=t},e.reset=function(){s={},a()},e.clear=a,e.clearPools=function(){o=[],i=new h},e.setOptions=function(t){for(let n in t)e.options[n]=t[n]};class l{constructor(t,n,i){this.base=new u,this.angleDeflection=0,this.speedDeflection=.5,this.sizeDeflection=.5,this.ticksDeflection=.3,this.count=1;const s=null==n.hue?i.get():n.hue,r=null==n.sizeScale?1:n.sizeScale,o=null==n.countScale?1:n.countScale;switch(t){case"e":this.base.speed=.7,this.base.slowdownRatio=.05,this.base.targetSize=10,this.base.beginColor=new f(s,1,.5,.3),this.base.middleColor=new f(s,.2,.9,.1),this.base.endColor=new f(s,0,0,0),this.base.middleTicks=20,this.base.endTicks=30,this.angleDeflection=2*Math.PI,this.count=15;break;case"m":case"s":this.base.speed="m"===t?1.5:.5,this.base.slowdownRatio=.025,this.base.targetSize=5,this.base.beginColor=new f(s,.5,.5,.3),this.base.middleColor=new f(s,1,.9,.3),this.base.endColor=new f(s,.75,.75,.2),this.base.middleTicks=10,this.base.endTicks=20,this.angleDeflection="m"===t?.3*i.getForParam():2*Math.PI,this.count=10;break;case"t":case"j":this.base.speed="t"===t?.1:1,this.base.slowdownRatio=.03,this.base.targetSize="t"===t?3:7,this.base.beginColor=new f(s,.7,.7,.4),this.base.middleColor=new f(s,1,.9,.2),this.base.endColor=new f(s,.7,.7,.1),this.base.middleTicks="t"===t?30:15,this.base.endTicks="t"===t?40:20,this.angleDeflection=.5*i.getForParam(),this.speedDeflection=.1,this.sizeDeflection=.1,this.ticksDeflection=.1,this.count=.5}null!=n.speed&&(this.base.speed=n.speed),null!=n.slowdownRatio&&(this.base.slowdownRatio=n.slowdownRatio),this.base.speed*=r*e.options.scaleRatio,this.base.targetSize*=r*e.options.scaleRatio,this.count*=o,this.base.speed*=i.getForParam(),this.base.slowdownRatio*=i.getForParam(),this.base.targetSize*=i.getForParam();const a=this.base.endTicks-this.base.middleTicks;this.base.middleTicks*=i.getForParam(),this.base.endTicks=this.base.middleTicks+a*i.getForParam(),this.speedDeflection*=i.getForParam(),this.sizeDeflection*=i.getForParam(),this.ticksDeflection*=i.getForParam(),this.count*=i.getForParam()}emit(t,e,n=0,i=0,s=0,r){if(!(this.count<1&&this.count<Math.random()))for(let o=0;o<this.count;o++){const o=new u;o.pos.x=t,o.pos.y=e,o.vel.x=i,o.vel.y=s,o.angle=n+(Math.random()-.5)*this.angleDeflection,o.speed=this.base.speed*((2*Math.random()-1)*this.speedDeflection+1),o.slowdownRatio=this.base.slowdownRatio,o.targetSize=this.base.targetSize*((2*Math.random()-1)*this.sizeDeflection+1),o.middleTicks=this.base.middleTicks*((2*Math.random()-1)*this.ticksDeflection+1),o.endTicks=this.base.endTicks*((2*Math.random()-1)*this.ticksDeflection+1),o.beginColor=this.base.beginColor,o.middleColor=this.base.middleColor,o.endColor=this.base.endColor,r.particles.push(o)}}}e.Emitter=l;class u{constructor(){this.pos=new c,this.vel=new c,this.size=0,this.angle=0,this.speed=1,this.slowdownRatio=.01,this.targetSize=10,this.middleTicks=20,this.endTicks=60,this.ticks=0}update(t){if(this.pos.x+=Math.cos(this.angle)*this.speed+this.vel.x,this.pos.y+=Math.sin(this.angle)*this.speed+this.vel.y,this.speed*=1-this.slowdownRatio,this.vel.x*=.99,this.vel.y*=.99,this.ticks>=this.endTicks)return!1;this.ticks<this.middleTicks?(this.color=this.beginColor.getLerped(this.middleColor,this.ticks/this.middleTicks),this.size+=.1*(this.targetSize-this.size)):(this.color=this.middleColor.getLerped(this.endColor,(this.ticks-this.middleTicks)/(this.endTicks-this.middleTicks)),this.size*=.95),this.color=this.color.getSparkled(),null!=t&&(t.fillStyle=this.color.getStyle(),t.fillRect(this.pos.x-this.size/2,this.pos.y-this.size/2,this.size,this.size)),this.ticks++}}e.Particle=u;class h{constructor(t=e.options.canvas){this.canvas=t,this.particles=[],o.push(this)}update(){null==this.context&&null!=this.canvas&&(this.context=this.canvas.getContext("2d"));for(let t=0;t<this.particles.length;)!1===this.particles[t].update(this.context)?this.particles.splice(t,1):t++}getParticles(){return this.particles}clear(){this.particles=[]}}e.ParticlePool=h;class c{constructor(t=0,e=0){this.x=t,this.y=e}}e.Vector=c;class f{constructor(t=0,n=1,i=1,s=0){this.hue=t,this.saturation=n,this.value=i,this.sparkleRatio=s,this.r=0,this.g=0,this.b=0,this.r=i,this.g=i,this.b=i;const r=6*t,o=Math.floor(r),a=r-o;switch(o){case 0:this.g*=1-n*(1-a),this.b*=1-n;break;case 1:this.b*=1-n,this.r*=1-n*a;break;case 2:this.b*=1-n*(1-a),this.r*=1-n;break;case 3:this.r*=1-n,this.g*=1-n*a;break;case 4:this.r*=1-n*(1-a),this.g*=1-n;break;case 5:this.g*=1-n,this.b*=1-n*a}!0===e.options.isLimitingColors&&this.limitRgb()}getStyle(){return`rgb(${Math.floor(255*this.r)},${Math.floor(255*this.g)},${Math.floor(255*this.b)})`}getSparkled(){return null==this.sparkled&&(this.sparkled=new f),this.sparkled.r=d(this.r+this.sparkleRatio*(2*Math.random()-1)),this.sparkled.g=d(this.g+this.sparkleRatio*(2*Math.random()-1)),this.sparkled.b=d(this.b+this.sparkleRatio*(2*Math.random()-1)),!0===e.options.isLimitingColors&&this.sparkled.limitRgb(),this.sparkled}getLerped(t,n){return null==this.lerped&&(this.lerped=new f),this.lerped.r=this.r*(1-n)+t.r*n,this.lerped.g=this.g*(1-n)+t.g*n,this.lerped.b=this.b*(1-n)+t.b*n,this.lerped.sparkleRatio=this.sparkleRatio*(1-n)+t.sparkleRatio*n,!0===e.options.isLimitingColors&&this.lerped.limitRgb(),this.lerped}limitRgb(){this.r=this.limitColor(this.r),this.g=this.limitColor(this.g),this.b=this.limitColor(this.b)}limitColor(t){return t<.25?0:t<.75?.5:1}}function d(t){return t<=0?0:t>=1?1:t}e.Color=f}])},function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){var n;!function(t){"use strict";String.fromCharCode;var e=2*+Math.PI,n=16,i=1,s=Math.sin,r=Math.pow,o=Math.abs;t.SampleRate=0,t.Sec=0,t.SetSampleRate=function(e){t.SampleRate=0|e,t.Sec=0|e},t.SetSampleRate(void 0!==a?(new a).sampleRate:44100),t.Sound=function(e){var n=new c(e,t.DefaultModules),i=P(n.getSamplesLeft());return n.generate(i),g(i)},t.Sounds=function(e,n,i){var s={},r={};r._audio=s;var o=[];S(e,function(t,e){r[e]=function(){void 0!==s[e]&&(s[e].currentTime=0,s[e].play())},o.push(e)});var a=0,l=o.length;return function r(){if(0!=o.length){var u=o.shift();s[u]=t.Sound(e[u]),i&&i(u,++a,l),window.setTimeout(r,30)}else n&&n(sounds)}(),r},t.SoundsImmediate=function(e){var n={},i={};return i._audio=n,S(e,function(e,s){n[s]=t.Sound(e),i[s]=function(){void 0!==n[s]&&(n[s].currentTime=0,n[s].play())}}),i};var a=window.AudioContext||window.webkitAudioContext;void 0!==a?(t.Node=function(e,n,i,s,r){var o=e.createScriptProcessor(s,0,1),a=new c(n,i||t.DefaultModules);return o.onaudioprocess=function(t){var e=t.outputBuffer.getChannelData(0);a.generate(e),!r&&a.finished&&setTimeout(function(){o.disconnect()},30)},o},t.Live=function(e,n,i){i=i||2048;var s={},r=new a,o=r.createGain();function l(t,e){var n=r.createBufferSource();if(n.buffer=t,null!=e&&null!=n.playbackRate){const t=Math.pow(2,1/12);n.playbackRate.value=Math.pow(t,e/100)}return n.start=n.start||n.noteOn,n}return o.connect(r.destination),s._context=r,s._volume=o,S(e,function(e,a){s[a]=function(){t.Node(r,e,n,i).connect(o)}}),s._close=function(){r.close()},s._play=function(e){t.Node(r,e,n,i).connect(o)},s._createBuffer=function(e){var n=new c(e,t.DefaultModules),i=P(n.getSamplesLeft());return n.generate(i),s._createBufferFromBlock(i)},s._createEmptyBuffer=function(){return s._createBufferFromBlock([0])},s._createBufferFromBlock=function(e){var n=r.createBuffer(1,e.length,t.SampleRate);return n.getChannelData(0).set(e),n},s._playBuffer=function(t,e,n){var i=l(t,n);i.connect(o),i.start(e)},s._playBufferAndConnect=function(t,e,n,i){var s=l(t,i);s.connect(n),n.connect(o),s.start(e)},s._createGain=function(){return r.createGain()},s}):t.Live=function(t,e,n){return null},t.Module={},t.G={};var l=t.stage={PhaseSpeed:0,PhaseSpeedMod:10,Generator:20,SampleMod:30,Volume:40};function u(t,e){return t.stage-e.stage}function h(t,e){for(var n=0;n<e.length;n+=1){var i=e[n],s=t[i.name]||{};S(i.params,function(t,e){void 0===s[e]&&(s[e]=t.D)}),t[i.name]=s}}function c(e,n){e=e||{},n=n||t.DefaultModules,e="function"==typeof e?e():JSON.parse(JSON.stringify(e)),this.finished=!1,this.state={SampleRate:e.SampleRate||t.SampleRate},(n=n.slice()).sort(u),this.modules=n,h(e,n);for(var i=0;i<this.modules.length;i+=1){var s=this.modules[i];this.modules[i].setup(this.state,e[s.name])}}function f(){return S(t.Module,function(){return{}})}function d(t){for(var e in t)0==x(t[e]).length&&delete t[e]}function p(t){return new Function("$","block","var TAU = Math.PI * 2;\nvar sample;\nvar phase = +$.generatorPhase,\n\tA = +$.generatorA, ASlide = +$.generatorASlide,\n\tB = +$.generatorB, BSlide = +$.generatorBSlide;\n\nfor(var i = 0; i < block.length; i++){\n\tvar phaseSpeed = block[i];\n\tphase += phaseSpeed;\n\tif(phase > TAU){ phase -= TAU };\n\tA += ASlide; B += BSlide;\n   A = A < 0 ? 0 : A > 1 ? 1 : A;\n   B = B < 0 ? 0 : B > 1 ? 1 : B;\n"+t+"\tblock[i] = sample;\n}\n\n$.generatorPhase = phase;\n$.generatorA = A;\n$.generatorB = B;\nreturn block.length;\n")}function g(e){"undefined"!=typeof Float32Array&&y(e instanceof Float32Array,"data must be an Float32Array");var s=i*n>>3,r=t.SampleRate*s,o=function(t){if("undefined"==typeof Uint8Array)for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return new Uint8Array(t)}(44+2*e.length),a=0;function l(t){for(var e=0;e<t.length;e+=1)o[a]=t.charCodeAt(e),a++}function u(t,e){e<=0||(o[a]=255&t,a++,u(t>>8,e-1))}return l("RIFF"),u(36+2*e.length,4),l("WAVEfmt "),u(16,4),u(1,2),u(i,2),u(t.SampleRate,4),u(r,4),u(s,2),u(n,2),l("data"),u(2*e.length,4),m(o.subarray(a),e),new Audio("data:audio/wav;base64,"+function(t){for(var e="",n=0;n<t.length;n+=32768){var i=Math.min(n+32768,t.length);e+=String.fromCharCode.apply(null,t.subarray(n,i))}return btoa(e)}(o))}function m(t,e){y(t.length/2==e.length,"the target buffer must be twice as large as the iinput");for(var n=0,i=0;i<e.length;i++){var s=32767*+e[i]|0;s=s<-32768?-32768:32767<s?32767:s,s+=s<0?65536:0,t[n]=255&s,t[++n]=s>>8,n++}}function y(t,e){if(!t)throw new Error(e)}function v(t,e,n){return n=+n,(t=+t)<(e=+e)?+e:t>n?+n:+t}function b(t){return(t=+t)<0?0:t>1?1:+t}function S(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i],i));return n}function w(t,e){var n=L();return void 0!==t&&(n*=t),void 0!==e&&(n+=e),n}function M(t){return t[t.length*L()|0]}function x(t){var e=[];for(var n in t)e.push(n);return e}function P(t){if("undefined"==typeof Float32Array)for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return new Float32Array(t)}t.InitDefaultParams=h,t.Processor=c,c.prototype={generate:function(t){for(var e=0;e<t.length;e+=1)t[e]=0;if(!this.finished){var n=this.state,i=0|t.length;for(e=0;e<this.modules.length;e+=1){var s=0|this.modules[e].process(n,t.subarray(0,i));i=Math.min(i,s)}for(i<t.length&&(this.finished=!0),e=i;e<t.length;e++)t[e]=0}},getSamplesLeft:function(){for(var t=0,e=0;e<this.state.envelopes.length;e+=1)t+=this.state.envelopes[e].N;return 0===t&&(t=3*this.state.SampleRate),t}},t.Module.Frequency={name:"Frequency",params:{Start:{L:30,H:1800,D:440},Min:{L:30,H:1800,D:30},Max:{L:30,H:1800,D:1800},Slide:{L:-1,H:1,D:0},DeltaSlide:{L:-1,H:1,D:0},RepeatSpeed:{L:0,H:3,D:0},ChangeAmount:{L:-12,H:12,D:0},ChangeSpeed:{L:0,H:1,D:0}},stage:l.PhaseSpeed,setup:function(t,n){var i=t.SampleRate;t.phaseParams=n,t.phaseSpeed=n.Start*e/i,t.phaseSpeedMax=n.Max*e/i,t.phaseSpeedMin=n.Min*e/i,t.phaseSpeedMin=Math.min(t.phaseSpeedMin,t.phaseSpeed),t.phaseSpeedMax=Math.max(t.phaseSpeedMax,t.phaseSpeed),t.phaseSlide=1+64*r(n.Slide,3)/i,t.phaseDeltaSlide=r(n.DeltaSlide,3)/(1e3*i),t.repeatTime=0,t.repeatLimit=1/0,n.RepeatSpeed>0&&(t.repeatLimit=n.RepeatSpeed*i),t.arpeggiatorTime=0,t.arpeggiatorLimit=n.ChangeSpeed*i,0==n.ChangeAmount&&(t.arpeggiatorLimit=1/0),t.arpeggiatorMod=1+n.ChangeAmount/12},process:function(t,e){for(var n=+t.phaseSpeed,i=+t.phaseSpeedMin,s=+t.phaseSpeedMax,r=+t.phaseSlide,o=+t.phaseDeltaSlide,a=t.repeatTime,l=t.repeatLimit,u=t.arpeggiatorTime,h=t.arpeggiatorLimit,c=t.arpeggiatorMod,f=0;f<e.length;f++){if(n=(n*=r+=o)<i?i:n>s?s:n,a>l)return this.setup(t,t.phaseParams),f+this.process(t,e.subarray(f))-1;a++,u>h&&(n*=c,u=0,h=1/0),u++,e[f]+=n}return t.repeatTime=a,t.arpeggiatorTime=u,t.arpeggiatorLimit=h,t.phaseSpeed=n,t.phaseSlide=r,e.length}},t.Module.Vibrato={name:"Vibrato",params:{Depth:{L:0,H:1,D:0},DepthSlide:{L:-1,H:1,D:0},Frequency:{L:.01,H:48,D:0},FrequencySlide:{L:-1,H:1,D:0}},stage:l.PhaseSpeedMod,setup:function(t,n){var i=t.SampleRate;t.vibratoPhase=0,t.vibratoDepth=n.Depth,t.vibratoPhaseSpeed=n.Frequency*e/i,t.vibratoPhaseSpeedSlide=1+3*r(n.FrequencySlide,3)/i,t.vibratoDepthSlide=n.DepthSlide/i},process:function(t,n){var i=+t.vibratoPhase,r=+t.vibratoDepth,o=+t.vibratoPhaseSpeed,a=+t.vibratoPhaseSpeedSlide,l=+t.vibratoDepthSlide;if(0==r&&l<=0)return n.length;for(var u=0;u<n.length;u++)(i+=o)>e&&(i-=e),n[u]+=n[u]*s(i)*r,o*=a,r=b(r+=l);return t.vibratoPhase=i,t.vibratoDepth=r,t.vibratoPhaseSpeed=o,n.length}},t.Module.Generator={name:"Generator",params:{Func:{C:t.G,D:"square"},A:{L:0,H:1,D:0},B:{L:0,H:1,D:0},ASlide:{L:-1,H:1,D:0},BSlide:{L:-1,H:1,D:0}},stage:l.Generator,setup:function(e,n){e.generatorPhase=0,"string"==typeof n.Func?e.generator=t.G[n.Func]:e.generator=n.Func,"object"==typeof e.generator&&(e.generator=e.generator.create()),y("function"==typeof e.generator,"generator must be a function"),e.generatorA=n.A,e.generatorASlide=n.ASlide,e.generatorB=n.B,e.generatorBSlide=n.BSlide},process:function(t,e){return t.generator(t,e)}},t.Module.Guitar={name:"Guitar",params:{A:{L:0,H:1,D:1},B:{L:0,H:1,D:1},C:{L:0,H:1,D:1}},stage:l.Generator,setup:function(t,e){t.guitarA=e.A,t.guitarB=e.B,t.guitarC=e.C,t.guitarBuffer=P(65536),t.guitarHead=0;for(var n=t.guitarBuffer,i=0;i<n.length;i++)n[i]=2*L()-1},process:function(t,n){for(var i=65536,s=i-1,r=+t.guitarA,o=+t.guitarB,a=+t.guitarC,l=r+o+a,u=t.guitarHead,h=t.guitarBuffer,c=0;c<n.length;c++){var f=e/n[c]|0,d=u-(f=f>i?i:f)+i&s;h[u]=(h[d-0+i&s]*r+h[d-1+i&s]*o+h[d-2+i&s]*a)/l,n[c]=h[u],u=u+1&s}return t.guitarHead=u,n.length}},t.Module.Filter={name:"Filter",params:{LP:{L:0,H:1,D:1},LPSlide:{L:-1,H:1,D:0},LPResonance:{L:0,H:1,D:0},HP:{L:0,H:1,D:0},HPSlide:{L:-1,H:1,D:0}},stage:l.SampleMod+0,setup:function(t,e){t.FilterEnabled=e.HP>1e-6||e.LP<1-1e-6,t.LPEnabled=e.LP<1-1e-6,t.LP=r(e.LP,3)/10,t.LPSlide=1+100*e.LPSlide/t.SampleRate,t.LPPos=0,t.LPPosSlide=0,t.LPDamping=5/(1+20*r(e.LPResonance,2))*(.01+e.LP),t.LPDamping=1-Math.min(t.LPDamping,.8),t.HP=r(e.HP,2)/10,t.HPPos=0,t.HPSlide=1+100*e.HPSlide/t.SampleRate},enabled:function(t){return t.FilterEnabled},process:function(t,e){if(!this.enabled(t))return e.length;for(var n=+t.LP,i=+t.LPPos,s=+t.LPPosSlide,r=+t.LPSlide,o=+t.LPDamping,a=+t.LPEnabled,l=+t.HP,u=+t.HPPos,h=+t.HPSlide,c=0;c<e.length;c++){(l>1e-6||l<-1e-6)&&(l=(l*=h)<1e-6?1e-6:l>.1?.1:l);var f=i;n=(n*=r)<0?n=0:n>.1?.1:n;var d=e[c];a?(s+=(d-i)*n,s*=o):(i=d,s=0),u+=(i+=s)-f,u*=1-l,e[c]=u}return t.LPPos=i,t.LPPosSlide=s,t.LP=n,t.HP=l,t.HPPos=u,e.length}},t.Module.Phaser={name:"Phaser",params:{Offset:{L:-1,H:1,D:0},Sweep:{L:-1,H:1,D:0}},stage:l.SampleMod+1,setup:function(t,e){t.phaserBuffer=P(1024),t.phaserPos=0,t.phaserOffset=1020*r(e.Offset,2),t.phaserOffsetSlide=4e3*r(e.Sweep,3)/t.SampleRate},enabled:function(t){return o(t.phaserOffsetSlide)>1e-6||o(t.phaserOffset)>1e-6},process:function(t,e){if(!this.enabled(t))return e.length;for(var n=t.phaserBuffer,i=0|t.phaserPos,s=+t.phaserOffset,r=+t.phaserOffsetSlide,o=0;o<e.length;o++){(s+=r)<0&&(s=-s,r=-r),s>1023&&(s=1023,r=0),n[i]=e[o];var a=i-(0|s)+1024&1023;e[o]+=n[a],i=i+1&1023|0}return t.phaserPos=i,t.phaserOffset=s,e.length}},t.Module.Volume={name:"Volume",params:{Master:{L:0,H:1,D:.5},Attack:{L:.001,H:1,D:.01},Sustain:{L:0,H:2,D:.3},Punch:{L:0,H:3,D:1},Decay:{L:.001,H:2,D:1}},stage:l.Volume,setup:function(t,e){var n=t.SampleRate,i=e.Master,s=i*(1+e.Punch);t.envelopes=[{S:0,E:i,N:e.Attack*n|0},{S:s,E:i,N:e.Sustain*n|0},{S:i,E:0,N:e.Decay*n|0}];for(var r=0;r<t.envelopes.length;r+=1){var o=t.envelopes[r];o.G=(o.E-o.S)/o.N}},process:function(t,e){for(var n=0;t.envelopes.length>0&&n<e.length;){for(var i=t.envelopes[0],s=i.S,r=i.G,o=0|Math.min(e.length-n,i.N),a=n+o|0;n<a;n+=1)e[n]*=s,s=v(s+=r,0,10);i.S=s,i.N-=o,i.N<=0&&t.envelopes.shift()}return n}},t.DefaultModules=[t.Module.Frequency,t.Module.Vibrato,t.Module.Generator,t.Module.Filter,t.Module.Phaser,t.Module.Volume],t.DefaultModules.sort(u),t.EmptyParams=f,t._RemoveEmptyParams=d,t.Preset={Reset:function(){return f()},Coin:function(){var t=f();return t.Frequency.Start=w(880,660),t.Volume.Sustain=w(.1),t.Volume.Decay=w(.4,.1),t.Volume.Punch=w(.3,.3),w()<.5&&(t.Frequency.ChangeSpeed=w(.15,.1),t.Frequency.ChangeAmount=w(8,4)),d(t),t},Laser:function(){var t=f();return t.Generator.Func=M(["square","saw","sine"]),w()<.33?(t.Frequency.Start=w(880,440),t.Frequency.Min=w(.1),t.Frequency.Slide=w(.3,-.8)):(t.Frequency.Start=w(1200,440),t.Frequency.Min=t.Frequency.Start-w(880,440),t.Frequency.Min<110&&(t.Frequency.Min=110),t.Frequency.Slide=w(.3,-1)),w()<.5?(t.Generator.A=w(.5),t.Generator.ASlide=w(.2)):(t.Generator.A=w(.5,.4),t.Generator.ASlide=w(.7)),t.Volume.Sustain=w(.2,.1),t.Volume.Decay=w(.4),w()<.5&&(t.Volume.Punch=w(.3)),w()<.33&&(t.Phaser.Offset=w(.2),t.Phaser.Sweep=w(.2)),w()<.5&&(t.Filter.HP=w(.3)),d(t),t},Explosion:function(){var t=f();return t.Generator.Func="noise",w()<.5?(t.Frequency.Start=w(440,40),t.Frequency.Slide=w(.4,-.1)):(t.Frequency.Start=w(1600,220),t.Frequency.Slide=w(-.2,-.2)),w()<.2&&(t.Frequency.Slide=0),w()<.3&&(t.Frequency.RepeatSpeed=w(.5,.3)),t.Volume.Sustain=w(.3,.1),t.Volume.Decay=w(.5),t.Volume.Punch=w(.6,.2),w()<.5&&(t.Phaser.Offset=w(.9,-.3),t.Phaser.Sweep=w(-.3)),w()<.33&&(t.Frequency.ChangeSpeed=w(.3,.6),t.Frequency.ChangeAmount=w(24,-12)),d(t),t},Powerup:function(){var t=f();return w()<.5?t.Generator.Func="saw":t.Generator.A=w(.6),t.Frequency.Start=w(220,440),w()<.5?(t.Frequency.Slide=w(.5,.2),t.Frequency.RepeatSpeed=w(.4,.4)):(t.Frequency.Slide=w(.2,.05),w()<.5&&(t.Vibrato.Depth=w(.6,.1),t.Vibrato.Frequency=w(30,10))),t.Volume.Sustain=w(.4),t.Volume.Decay=w(.4,.1),d(t),t},Hit:function(){var t=f();return t.Generator.Func=M(["square","saw","noise"]),t.Generator.A=w(.6),t.Generator.ASlide=w(1,-.5),t.Frequency.Start=w(880,220),t.Frequency.Slide=-w(.4,.3),t.Volume.Sustain=w(.1),t.Volume.Decay=w(.2,.1),w()<.5&&(t.Filter.HP=w(.3)),d(t),t},Jump:function(){var t=f();return t.Generator.Func="square",t.Generator.A=w(.6),t.Frequency.Start=w(330,330),t.Frequency.Slide=w(.4,.2),t.Volume.Sustain=w(.3,.1),t.Volume.Decay=w(.2,.1),w()<.5&&(t.Filter.HP=w(.3)),w()<.3&&(t.Filter.LP=w(-.6,1)),d(t),t},Select:function(){var t=f();return t.Generator.Func=M(["square","saw"]),t.Generator.A=w(.6),t.Frequency.Start=w(660,220),t.Volume.Sustain=w(.1,.1),t.Volume.Decay=w(.2),t.Filter.HP=.2,d(t),t},Lucky:function(){var e=f();return S(e,function(e,n){S(t.Module[n].params,function(t,n){if(t.C){var i=x(t.C);e[n]=i[i.length*L()|0]}else e[n]=L()*(t.H-t.L)+t.L})}),e.Volume.Master=.4,e.Filter={},d(e),e}},t.G.unoise=p("sample = Math.random();"),t.G.sine=p("sample = Math.sin(phase);"),t.G.saw=p("sample = 2*(phase/TAU - ((phase/TAU + 0.5)|0));"),t.G.triangle=p("sample = Math.abs(4 * ((phase/TAU - 0.25)%1) - 2) - 1;"),t.G.square=p("var s = Math.sin(phase); sample = s > A ? 1.0 : s < A ? -1.0 : A;"),t.G.synth=p("sample = Math.sin(phase) + .5*Math.sin(phase/2) + .3*Math.sin(phase/4);"),t.G.noise=p("if(phase % TAU < 4){__noiseLast = Math.random() * 2 - 1;} sample = __noiseLast;"),t.G.string={create:function(){for(var t=65536,e=t-1,n=P(t),i=0;i<n.length;i++)n[i]=2*L()-1;var s=0;return function(i,r){for(var o=2*Math.PI,a=+i.generatorA,l=+i.generatorASlide,u=+i.generatorB,h=+i.generatorBSlide,c=n,f=0;f<r.length;f++){var d=r[f];u+=h,a=(a+=l)<0?0:a>1?1:a,u=u<0?0:u>1?1:u;var p=s-(o/d|0)+t&e,g=(1*c[p-0+t&e]+c[p-1+t&e]*a+c[p-2+t&e]*u)/(1+a+u);c[s]=g,r[f]=c[s],s=s+1&e}return i.generatorA=a,i.generatorB=u,r.length}}},t.CreateAudio=g,t.DownloadAsFile=function(t){y(t instanceof Audio,"input must be an Audio object"),document.location.href=t.src},t.Util={},t.Util.CopyFToU8=m,t._createFloatArray=P;var F=Math.random;function L(){return F()}t.setRandomFunc=function(t){F=t}}(n={}),t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(0);let s,r;e.Preset=i.Preset;let o,a,l={},u={},h=[];const c={c:e.Preset.Coin,l:e.Preset.Laser,e:e.Preset.Explosion,p:e.Preset.Powerup,h:e.Preset.Hit,j:e.Preset.Jump,s:e.Preset.Select,u:e.Preset.Lucky},f=function(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}(c);let d,p=.5,g=!1;function m(t){null!=s&&(s._volume.gain.value=t)}function y(){null!=s&&D(h,t=>t.stop())}function v(t=32,e=.25,n,i=60,s=1,o=0,a=0,l=1,u=!1,h=!1,c=!1,f=!1,p=null){const g=new L(n,b(i),s);if(g.noteInterval=e,null!=d&&u)g.noteRatios=d.noteRatios;else{const e=null!=p?function(t,e){return A(t,()=>r.get()>=e)}(t,p):function(t){let e=k(t,!1),n=4;for(;n<=t;)e=S(e,n),n*=2;return e}(t);g.noteRatios=function(t,e,n,i,s){let o=r.get(),a=r.get(-.5,.5),l=t.length/x.length,u=[];return t.forEach((t,n)=>{let h=Math.floor(n/l),c=n%l;if(s&&h===Math.floor(x.length/2))return u.push(u[c]),void(null!=u[c]&&(o=u[c]));t?(u.push(o),a+=r.get(-.25,.25),o+=a*i,(r.get()<.2||o<=e||o>=1)&&(o-=2*a,a*=-1)):u.push(null)}),u}(e,h?0:-1,0,l,f)}return g.notes=function(t,e,n,i){let s=t.length/x.length;return t.map((t,o)=>{if(null==t)return null;let a=Math.floor(o/s),l=x[a][0],u=w[x[a][1]],h=t;i&&(h=Math.floor(2*h)/2);let c=Math.floor(h),f=Math.floor((h-c)*u.length);for(f+=e+r.getInt(-n,n+1);f>=u.length;)f-=u.length,c++;for(;f<0;)f+=u.length,c--;return 100*(l+12*c+u[f])})}(g.noteRatios,o,a,c),d=g,g}function b(t){return 440*Math.pow(2,(t-69)/12)}function S(t,e){let n=k(e,!1);const i=Math.floor(4*Math.abs(r.get()+r.get()-1));for(let t=0;t<i;t++)n[r.getInt(e-1)]=!0;return I(t,(t,i)=>n[i%e]?!t:t)}e.init=function(t=0,n=120,l=60){s=i.Live({}),m(.1),a=t,r=new class{get(t=1,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()/4294967295*(e-t)+t}getInt(t,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()%(e-t)+t}getPm(){return 2*this.getInt(2)-1}select(t){return t[this.getInt(t.length)]}setSeed(t=null,e=123456789,n=362436069,i=521288629,s=32){this.w=null!=t?t>>>0:Math.floor(4294967295*Math.random())>>>0,this.x=e>>>0,this.y=n>>>0,this.z=i>>>0;for(let t=0;t<s;t++)this.getToMaxInt();return this}getToMaxInt(){const t=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=(this.w^this.w>>>19^t^t>>>8)>>>0,this.w}constructor(){this.setSeed(),this.get=this.get.bind(this),this.getToMaxInt=this.getToMaxInt.bind(this)}},i.setRandomFunc(r.get),e.playInterval=60/n,o=1/l*2},e.setSeed=function(t=0){a=t},e.play=function(t="0",e=2,n=null,i=null,o=null){if(null==s)return;if(null!=l[t])return void l[t].play(o);if(r.setSeed(a+T(t)),null==i){let n=c[t[0]];void 0===n&&(n=r.select(f)),i=k(e,n)}const u=null==n?null:b(n);l[t]=new F(i,u),l[t].play(o)},e.playJingle=function(t="0",e=!1,n=57,i=16,o=.25,l=4,h=null,p=null){if(null==s)return;if(null!=u[t])return void u[t].forEach(t=>t.play(p));if(r.setSeed(a+T(t)),P(),d=null,null==h){let e=c[t[0]];void 0===e&&(e=r.select(f)),h=e}let g=.8;e&&(o/=4,g/=2),u[t]=A(l,()=>{const t=Math.floor(3*Math.abs(r.get()+r.get()-1)),s=Math.floor(10*(r.get()+r.get()-1)),a=e?2:Math.abs(r.get()+r.get()-1),l=r.get()<.25,u=!e&&r.get()<.5,c=r.get()<.5,f=e?r.get()<.25:r.get()<.9,d=r.get(.5),p=v(i,o,h,n,g,t,s,a,l,u,c,f,d);return p.isLooping=!1,p}),u[t].forEach(t=>t.play(p))},e.stopJingles=function(){C(u,t=>D(t,t=>t.stop()))},e.setVolume=m,e.setQuantize=function(t){p=t},e.update=function(){if(null==s)return;const t=s._context.currentTime,e=t+o;return C(l,n=>n.update(t,e)),C(u,n=>D(n,n=>n.update(t,e))),D(h,n=>n.update(t,e)),t},e.reset=function(){y(),l={},u={},h=[]},e.playEmpty=function(){if(null==s)return;if(g)return;const t=s._createEmptyBuffer();s._playBuffer(t,0),g=!0},e.playParam=function(t){null!=s&&s._play(t)},e.playBgm=function(t="0",n=45,i=32,o=.25,l=4,u=[e.Preset.Laser,e.Preset.Select,e.Preset.Hit,e.Preset.Hit],c=null){if(null==s)return;y(),r.setSeed(a+T(t)),P(),d=null;let f=r.select(u);D(h=A(l,()=>{const t=Math.floor(3*Math.abs(r.get()+r.get()-1)),e=Math.floor(10*(r.get()+r.get()-1)),s=Math.abs(r.get()+r.get()-1),a=r.get()<.25;a||(f=r.select(u));const l=r.get()<.5,h=r.get()<.5,c=r.get()<.9;return v(i,o,f,n,.7,t,e,s,a,l,h,c)}),t=>t.play(c))},e.stopBgm=y;const w=[[0,4,7],[0,3,7],[0,4,7,10],[0,4,7,11],[0,3,7,10]],M=[[[0,0],[7,0],[9,1],[4,1]],[[5,0],[0,0],[5,0],[7,0]],[[5,3],[7,2],[4,4],[9,1]],[[9,1],[2,1],[7,0],[0,0]],[[9,1],[5,0],[7,0],[0,0]]];let x;function P(){const t=r.select(M);x=t.map((t,e)=>[r.get()<.7?t[0]:M[r.getInt(M.length)][e][0],r.get()<.7?t[1]:r.getInt(w.length)])}class F{constructor(t,e=null,n=1){this.isPlaying=!1,this.playedTime=null,Array.isArray(t)||(t=[t]),this.buffers=I(t,t=>(t instanceof Function&&(t=t()),t.Volume.Sustain*=n,t.Volume.Decay*=n,null!=e&&(t.Frequency.Start=e),s._createBuffer(t))),this.gainNode=s._createGain()}play(t=null){this.isPlaying=!0,this.volume=t}stop(){this.isPlaying=!1}update(t,n){if(!this.isPlaying)return;this.isPlaying=!1;const i=e.playInterval*p,s=i>0?Math.ceil(t/i)*i:t;(null==this.playedTime||s>this.playedTime)&&(this.playLater(s),this.playedTime=s)}playLater(t,e=null){null==this.volume?D(this.buffers,n=>s._playBuffer(n,t,e)):(this.gainNode.gain.value=this.volume,D(this.buffers,n=>s._playBufferAndConnect(n,t,this.gainNode,e)))}}class L extends F{constructor(){super(...arguments),this.noteIndex=0,this.noteInterval=.25,this.scheduledTime=null,this.isLooping=!0}play(t=null){super.play(t),this.scheduledTime=null}update(t,e){if(this.isPlaying){null==this.scheduledTime&&this.calcFirstScheduledTime(t);for(let e=0;e<99&&!(this.scheduledTime>=t);e++)this.calcNextScheduledTime();if(this.scheduledTime<t)this.scheduledTime=null;else for(;this.scheduledTime<=e;){if(null!=this.nextNote&&this.playLater(this.scheduledTime,this.nextNote),!this.isLooping&&0===this.noteIndex)return void this.stop();this.calcNextScheduledTime()}}}calcFirstScheduledTime(t){this.scheduledTime=Math.ceil(t/e.playInterval)*e.playInterval-e.playInterval*this.noteInterval,this.noteIndex=0,this.calcNextScheduledTime()}calcNextScheduledTime(){const t=this.notes.length,n=e.playInterval*this.noteInterval;for(let e=0;e<t&&(this.scheduledTime+=n,this.nextNote=this.notes[this.noteIndex],this.noteIndex++,!(this.noteIndex>=t)||(this.noteIndex=0,this.isLooping))&&null==this.nextNote;e++);}}function T(t){let e=0;const n=t.length;for(let i=0;i<n;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}function k(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function A(t,e){let n=[];for(let i=0;i<t;i++)n.push(e(i));return n}function D(t,e){for(let n=0;n<t.length;n++)e(t[n])}function C(t,e){for(let n in t)e(t[n])}function I(t,e){let n=[];for(let i=0;i<t.length;i++)n.push(e(t[i],i));return n}}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initSeedUi=function(t){var e=document.createElement("p");e.innerHTML='<button id="change">change</button>random seed: <input type="number" id="seed" value="0"></input><button id="set">set</button>',document.getElementsByTagName("body")[0].appendChild(e);const n=document.getElementById("change"),i=document.getElementById("seed"),s=document.getElementById("set");function r(){t(Number(i.value))}n.onclick=function(){i.value=Math.floor(9999999*Math.random()).toString(),r()},s.onclick=r},e.enableShowingErrors=function(){const t=document.createElement("pre");t.setAttribute("id","result"),document.getElementsByTagName("body")[0].appendChild(t),window.addEventListener("error",function(e){var n=[e.filename,"@",e.lineno,":\n",e.message].join("");return t.textContent+="\n"+n,!1})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions={isMirrorX:!1,isMirrorY:!1,seed:0,hue:null,saturation:.8,value:1,rotationNum:1,scale:null,scaleX:null,scaleY:null,scalePattern:1,scalePatternX:null,scalePatternY:null,isRotatingRight:!1,isRotatingLeft:!1,isReverseX:!1,isReverseY:!1,isAddingEdgeFirst:!1,isInnerEdge:!1,colorNoise:.1,colorLighting:1,edgeDarkness:.4,isShowingEdge:!0,isShowingBody:!0,isLimitingColors:!1,isUsingLetterForm:!1,letterFormChar:"x",letterFormFontFamily:"monospace",letterFormFontSize:16,letterWidthRatio:.8,letterHeightRatio:.9};let i={},s={},r=0;function o(t,n={}){n.baseSeed=r;let s=Array.isArray(t)?t:t.split("\n");const o=JSON.stringify({patterns:s,options:n});if(i[o])return i[o];let a={};g(e.defaultOptions,(t,e)=>{a[e]=t}),g(n,(t,e)=>{a[e]=t});const l=new v;let u=r+function(t){let e=0;const n=t.length;for(let i=0;i<n;i++){const n=t.charCodeAt(i);e=(e<<5)-e+n,e|=0}return e}(s.join());null!=a.seed&&(u+=a.seed),l.setSeed(u),null==a.hue&&(a.hue=l.get()),null==a.scalePatternX&&(a.scalePatternX=a.scalePattern),null==a.scalePatternY&&(a.scalePatternY=a.scalePattern),a.isUsingLetterForm&&(s=function(t,e){const n=y(t,(t,e)=>Math.max(t,e.length),0),i=t.length,s=e.letterFormFontSize,r=Math.round(n*s*e.letterWidthRatio),o=Math.round(i*s*1.2*e.letterHeightRatio),a=document.createElement("canvas");a.width=r,a.height=o;const l=a.getContext("2d");l.font=`${s}px ${e.letterFormFontFamily}`,l.textBaseline="top",d(n,n=>{d(i,i=>{l.fillText(t[i][n],n*s*e.letterWidthRatio,i*s*1.2*e.letterHeightRatio)})});const u=l.getImageData(0,0,r,o).data,h=function(t,e,n){let i=e,s=-1,r=n,o=-1,a=3;return d(n,n=>{d(e,e=>{t[a]>0&&(i=e<i?e:i,s=e>s?e:s,r=n<r?n:r,o=n>o?n:o),a+=4})}),{bx:i,ex:s,by:r,ey:o}}(u,r,o),c=h.ex-h.bx+1;let f=[];return d(h.ey-h.by+1,t=>{let n="";d(c,i=>{const s=4*(i+h.bx+(t+h.by)*r)+3;n+=u[s]>.5?e.letterFormChar:" "}),f.push(n)}),f}(s,a));let b,S=function(t,e,n){let i=y(t,(t,e)=>Math.max(t,e.length),0),s=t.length,r=Math.round(i*e.scalePatternX),o=Math.round(s*e.scalePatternY);r+=e.isMirrorX?1:2,o+=e.isMirrorY?1:2;let a=function(t,e,n,i,s,r,o,a,l,u){let c=p(i,i=>{const l=Math.floor((i-1)/r);return p(s,i=>{const s=Math.floor((i-1)/o);if(l<0||l>=e||s<0||s>=n)return 0;const r=l<t[s].length?t[s][l]:" ";let h=0;return"-"===r?h=u.get()<.5?1:a?.5:0:"x"===r||"X"===r?h=u.get()<.5?1:-1:"o"===r||"O"===r?h=-1:"*"===r&&(h=1),h})});a&&(c=m(c=h(c,i,s,a,l),t=>m(t,t=>Math.floor(t))));return c}(t,i,s,r,o,e.scalePatternX,e.scalePatternY,e.isAddingEdgeFirst,e.isInnerEdge,n);e.isMirrorX&&(a=function(t,e,n){return p(2*e,i=>p(n,n=>i<e?t[i][n]:t[2*e-i-1][n]))}(a,r,o),r*=2);e.isMirrorY&&(a=function(t,e,n){return p(e,e=>p(2*n,i=>i<n?t[e][i]:t[e][2*n-i-1]))}(a,r,o),o*=2);if(e.isRotatingRight||e.isRotatingLeft){a=function(t,e,n,i){return p(n,i?i=>p(e,e=>t[e][n-1-i]):n=>p(e,i=>t[e-1-i][n]))}(a,r,o,e.isRotatingRight);const t=r;r=o,o=t}(e.isReverseX||e.isReverseY)&&(a=function(t,e,n,i){return p(e,i?i=>p(n,n=>t[e-1-i][n]):e=>p(n,i=>t[e][n-1-i]))}(a,r,o,e.isReverseX));a=h(a,r,o,!1,e.isInnerEdge),(null!=e.scale||null!=e.scaleX||null!=e.scaleY)&&(a=function(t,e,n,i){const s=null!=i.scaleX?i.scaleX:null!=i.scale?i.scale:1,r=null!=i.scaleY?i.scaleY:null!=i.scale?i.scale:1,o=Math.round(e*s),a=Math.round(n*r);let l=p(o,i=>{const o=Math.floor((i-1)/s);return p(a,i=>{const s=Math.floor((i-1)/r);return o<0||o>=e||s<0||s>=n?0:t[o][s]})});const u=(s+r)/2;return d(Math.floor((u-1)/2),()=>{l=function(t,e,n){return p(e,i=>p(n,s=>-1===t[i][s]&&c(t,e,n,0,i,s)?0:-1===t[i][s]&&c(t,e,n,1,i,s)?1:t[i][s]))}(l,o,a)}),h(l,o,a,!1,i.isInnerEdge)}(a,r,o,e));return a}(s,a,l);return b=a.rotationNum>1?m(function(t,e){const n=t.length,i=t[0].length,s=n/2,r=i/2,o=Math.max(n,i),a=2*Math.round(1.5*o/2),l=2*Math.round(1.5*o/2),u=a/2,h=l/2;let c={x:0,y:0};return p(e,o=>{const f=-o*Math.PI*2/e;return p(a,e=>p(l,o=>{c.x=e-u,c.y=o-h,function(t,e){const n=t.x;t.x=Math.cos(e)*n-Math.sin(e)*t.y,t.y=Math.sin(e)*n+Math.cos(e)*t.y}(c,f);const a=Math.round(c.x+s),l=Math.round(c.y+r);return a<0||a>=n||l<0||l>=i?0:t[a][l]}))})}(S,a.rotationNum),t=>f(t,a)):[f(S,a)],i[o]=b,b}function a(t,e={},n=!1){e.baseSeed=r;let i=Array.isArray(t)?t:t.split("\n");const a=JSON.stringify({patterns:i,options:e});if(s[a])return s[a];const l=o(i,e),h=l[0].length,c=l[0][0].length,f=document.createElement("canvas");f.width=h,f.height=c;const d=f.getContext("2d");let p=[],g=[];for(let t=0;t<l.length;t++){d.clearRect(0,0,h,c),u(d,l,h/2,c/2,t);const e=new Image;n&&g.push(new Promise((t,n)=>{e.onload=(n=>{t(e)})})),e.src=f.toDataURL(),p.push(e)}return s[a]=p,n?Promise.all(g):p}e.generate=o,e.generateImages=function(t,e={}){return a(t,e)},e.generateImagesPromise=function(t,e={}){return a(t,e,!0)},e.setSeed=function(t=0){r=t},e.setDefaultOptions=function(t){g(t,(t,n)=>{e.defaultOptions[n]=t})};class l{constructor(){this.r=0,this.g=0,this.b=0,this.isEmpty=!0}setFromHsv(t,e,n,i=!1){this.isEmpty=!1,this.r=n,this.g=n,this.b=n;const s=6*t,r=Math.floor(s),o=s-r;switch(r){case 0:this.g*=1-e*(1-o),this.b*=1-e;break;case 1:this.b*=1-e,this.r*=1-e*o;break;case 2:this.b*=1-e*(1-o),this.r*=1-e;break;case 3:this.r*=1-e,this.g*=1-e*o;break;case 4:this.r*=1-e*(1-o),this.g*=1-e;break;case 5:this.g*=1-e,this.b*=1-e*o}!0===i&&(this.r=this.limitColor(this.r),this.g=this.limitColor(this.g),this.b=this.limitColor(this.b)),this.setStyle()}setStyle(){const t=Math.floor(255*this.r),e=Math.floor(255*this.g),n=Math.floor(255*this.b);this.style=`rgb(${t},${e},${n})`}limitColor(t){return t<.25?0:t<.75?.5:1}}function u(t,e,n,i,s=0){const r=e[s],o=r.length,a=r[0].length,l=Math.floor(n-o/2),u=Math.floor(i-a/2);for(let e=0,n=u;e<a;e++,n++)for(let i=0,s=l;i<o;i++,s++){const o=r[i][e];o.isEmpty||(t.fillStyle=o.style,t.fillRect(s,n,1,1))}}function h(t,e,n,i,s){let r;return r=i?s?(i,s)=>1===Math.ceil(t[i][s])&&c(t,e,n,0,i,s):(i,s)=>0===t[i][s]&&c(t,e,n,null,i,s,t=>0!==t):s?(i,s)=>1===t[i][s]&&c(t,e,n,0,i,s):(i,s)=>0===t[i][s]&&c(t,e,n,1,i,s),p(e,e=>p(n,n=>r(e,n)?-1:t[e][n]))}function c(t,e,n,i,s,r,o=null){return[[-1,0],[1,0],[0,-1],[0,1]].some(a=>{const l=s+a[0],u=r+a[1];return!(l<0||l>=e||u<0||u>=n)&&(null==o?t[l][u]===i:o(t[l][u]))})}function f(t,e){const n=t.length,i=t[0].length;let s=0,r=!1;for(let e=0;e<i/2;e++){for(let s=0;s<n;s++)if(0!==t[s][e]||0!==t[s][i-1-e]){r=!0;break}if(r)break;s++}let o=i-2*s;o<=0&&(o=1);const a=new v;return a.setSeed(e.seed),p(n,n=>p(i,i=>{const r=t[n][i];if(1===r&&!e.isShowingBody||-1===r&&!e.isShowingEdge)return new l;if(0!==r){let t=((Math.sin((i-s)/o*Math.PI)*e.colorLighting+(1-e.colorLighting))*(1-e.colorNoise)+a.get()*e.colorNoise)*e.value;t=t>=0?t<=1?t:1:0,-1===r&&(t*=1-e.edgeDarkness);const n=new l;return n.setFromHsv(e.hue,e.saturation,t,e.isLimitingColors),n}return new l}))}function d(t,e){for(let n=0;n<t;n++)e(n)}function p(t,e){let n=[];for(let i=0;i<t;i++)n.push(e(i));return n}function g(t,e){for(let n in t)e(t[n],n)}function m(t,e){let n=[];for(let i=0;i<t.length;i++)n.push(e(t[i],i));return n}function y(t,e,n){let i=n;for(let n=0;n<t.length;n++)i=e(i,t[n],n);return i}e.Pixel=l,e.draw=u,e.drawImage=function(t,e,n,i,s=0){const r=e[s];t.drawImage(r,Math.floor(n-r.width/2),Math.floor(i-r.height/2))};class v{get(t=1,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()/4294967295*(e-t)+t}getInt(t,e=null){return null==e&&(e=t,t=0),this.getToMaxInt()%(e-t)+t}getPm(){return 2*this.getInt(2)-1}select(t){return t[this.getInt(t.length)]}setSeed(t=null,e=123456789,n=362436069,i=521288629,s=32){this.w=null!=t?t>>>0:Math.floor(4294967295*Math.random())>>>0,this.x=e>>>0,this.y=n>>>0,this.z=i>>>0;for(let t=0;t<s;t++)this.getToMaxInt();return this}getToMaxInt(){const t=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=(this.w^this.w>>>19^t^t>>>8)>>>0,this.w}constructor(){this.setSeed(),this.get=this.get.bind(this),this.getToMaxInt=this.getToMaxInt.bind(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(4),s=n(3),r=n(2),o=n(1),a=n(0);let l=!1;const u=16;let h,c,f,d=[],p=null,g=0,m=0,y=1,v=!1;const b=128;let S={x:0,y:0};const w="Roboto Mono";function M(){i.setSeed(7828523),o.setSeed(7828523),r.init(7828523),s.enableShowingErrors(),s.initSeedUi(A);const t=document.createElement("p");t.innerText="[Click/Touch]: shot",document.body.appendChild(t),(h=document.createElement("canvas")).width=h.height=b,document.body.appendChild(h),c=h.getContext("2d"),i.setDefaultOptions({isMirrorY:!0,rotationNum:u,scalePattern:2}),o.setOptions({canvas:h}),f=i.generateImages("RECOIL",{isUsingLetterForm:!0,letterFormFontFamily:`'${w}', monospace`,isMirrorY:!1,rotationNum:1,isAddingEdgeFirst:!0,isInnerEdge:!0,scalePattern:1.5,letterWidthRatio:.7,colorLighting:.5}),function(){for(let t=0;t<32;t++){const t={};t.rectColor={r:Math.floor(k(128,256)),g:Math.floor(k(128,256)),b:Math.floor(k(128,256))},t.pos={x:k(-16,144),y:k(-16,144)},t.vel={x:0,y:0},t.angle=0,t.update=function(){this.pos.x<-16&&(this.pos.x=160+this.pos.x),this.pos.x>132&&(this.pos.x=-160+this.pos.x),this.pos.y<-16&&(this.pos.y=160+this.pos.y),this.pos.y>132&&(this.pos.y=-160+this.pos.y)},t.priority=-3,d.push(t)}}(),document.addEventListener("mousedown",t=>{x(t.clientX,t.clientY)}),document.addEventListener("touchstart",t=>{x(t.touches[0].clientX,t.touches[0].clientY)}),document.addEventListener("mousemove",t=>{P(t.clientX,t.clientY)}),document.addEventListener("touchmove",t=>{t.preventDefault(),P(t.touches[0].clientX,t.touches[0].clientY)},{passive:!1}),document.addEventListener("touchend",t=>{t.preventDefault(),t.target.click()},{passive:!1}),F()}function x(t,e){r.playEmpty(),!l&&g>0&&(l=!0,m=g=0,y=1,r.playJingle("s1"),L()),v=!0,P(t,e)}function P(t,e){S.x=((t-h.offsetLeft)/h.clientWidth+.5)*b,S.y=((e-h.offsetTop)/h.clientHeight+.5)*b}function F(){requestAnimationFrame(F),r.update(),l&&180===g&&r.playBgm(),c.fillStyle="black",c.fillRect(0,0,b,b),o.update();const t=Math.sqrt(g/1e3+1);Math.random()<.03*t&&function(){const t={};if(t.images=i.generateImages([" x","xx"],{isMirrorX:!0}),t.pos={x:k(-32,160),y:Math.random()<.5?-32:160},Math.random()<.5){let e=t.pos.x;t.pos.x=t.pos.y,t.pos.y=e}t.vel={x:k(-.1,.1),y:k(-.1,.1)},t.angle=0,t.update=function(){if(null!=p){const t=Math.sqrt(g/1e3+1);this.vel.x+=1e-4*(p.pos.x-this.pos.x)*t,this.vel.y+=1e-4*(p.pos.y-this.pos.y)*t;const e=this.pos.x-p.pos.x,n=this.pos.y-p.pos.y;Math.sqrt(e*e+n*n)<10&&(l=!1,o.emit("e2",p.pos.x,p.pos.y,null,{sizeScale:2}),r.playJingle("s3",!0,60,24),r.stopBgm(),p.isAlive=!1,p=null,g=-60)}else this.vel.y+=.01;this.vel.x*=.99,this.vel.y*=.99},t.name="enemy",t.priority=1,d.push(t)}(),d.sort((t,e)=>t.priority-e.priority),T(d,t=>{if(t.update(),t.pos.x+=t.vel.x,t.pos.y+=t.vel.y,(t.pos.x<-48||t.pos.x>176||t.pos.y<-48||t.pos.y>176)&&(t.isAlive=!1,"shot"===t.name&&(y=1)),null!=t.images&&function(t){let e=t.angle;e<0&&(e=2*Math.PI-Math.abs(e));const n=Math.round(e/(2*Math.PI/u))%u;i.drawImage(c,t.images,t.pos.x,t.pos.y,n)}(t),null!=t.rectColor){const e=t.rectColor;c.fillStyle=`rgb(${e.r}, ${e.g}, ${e.b})`,c.fillRect(t.pos.x,t.pos.y,1,1)}});for(let t=0;t<d.length;)!1===d[t].isAlive?d.splice(t,1):t++;l||i.drawImage(c,f,64,40),c.fillStyle="#ace",c.font=`9px '${w}', monospace`,c.fillText(`${m}`,5,10),c.fillText(`+${y}`,5,20),g++}function L(){null!=p&&(p.isAlive=!1),(p={}).images=i.generateImages([" x","xxxx"]),p.pos={x:64,y:64},p.vel={x:0,y:0},p.angle=0,p.update=function(){if(this.angle=Math.atan2(S.y-this.pos.y,S.x-this.pos.x),v){v=!1;const t={};t.images=i.generateImages(["xxx"],{isMirrorY:!1}),t.pos={x:this.pos.x,y:this.pos.y},t.angle=this.angle;const e=3;t.vel={x:Math.cos(this.angle)*e,y:Math.sin(this.angle)*e},t.update=function(){o.emit("t1",this.pos.x,this.pos.y,this.angle+Math.PI),T(function(t){let e=[];return T(d,n=>{n.name===t&&e.push(n)}),e}("enemy"),t=>{let e=t.pos.x-this.pos.x,n=t.pos.y-this.pos.y;Math.sqrt(e*e+n*n)<10&&(this.isAlive=!1,t.isAlive=!1,o.emit("e1",t.pos.x,t.pos.y),r.playJingle("l2",!0,69,12),m+=y,y++)})},t.name="shot",t.priority=-1,d.push(t),o.emit("m1",this.pos.x,this.pos.y,this.angle),r.play("s1"),this.vel.x=-t.vel.x,this.vel.y=-t.vel.y}this.vel.x*=.7,this.vel.y*=.7;var t=.1*(64-this.pos.x),e=.1*(64-this.pos.y);T(d,n=>{n.pos.x+=t,n.pos.y+=e})},p.priority=0,d.push(p)}function T(t,e){for(let n=0;n<t.length;n++)e(t[n])}function k(t,e){return Math.random()*(e-t)+t}function A(t){i.setSeed(t),o.reset(),o.setSeed(t),r.reset(),r.setSeed(t),l&&(r.playBgm(),L())}window.onload=(()=>{a.load({google:{families:[w]},active:M,inactive:M,timeout:2e3})})}]);